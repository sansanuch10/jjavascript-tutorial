<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="152">Веб-компоненты: взгляд в будущее</a></nav-up><h1>Шаблоны &lt;template&gt;</h1><p>Элемент <code>&lt;template&gt;</code> предназначен для хранения «образца» разметки, невидимого и предназначенного для вставки куда-либо.</p><p>Конечно, есть много способов записать произвольный невидимый текст в HTML. В чём же особенность <code>&lt;template&gt;</code>?</p><p>Его отличие от обычных тегов в том, что его содержимое обрабатывается особым образом. Оно не только скрыто, но и считается находящимся вообще «вне документа». А при вставке автоматически «оживает», выполняются из него скрипты, начинает проигрываться видео и т.п.</p><p>Содержимое тега <code>&lt;template&gt;</code>, в отличие, к примеру, от шаблонов или <code>&lt;script type="неизвестный тип"&gt;</code>, обрабатывается браузером. А значит, должно быть корректным HTML.</p><p>Оно доступно как <code>DocumentFragment</code> в свойстве тега <code>content</code>. Предполагается, что мы, при необходимости, возьмём <code>content</code> и вставим, куда надо.</p><h2><a name="0" href="#0">Вставка шаблона</a></h2><p>Пример вставки шаблона <code>tmpl</code> в Shadow DOM элемента <code>elem</code>:</p><code-example><script>`<p id="elem">\n  Доброе утро, страна!</p>\n&nbsp\n<template id="tmpl">\n  <h3><content></content></h3>\n  <p>Привет из подполья!</p>\n  <script>\n    document.write('...document.write:Новость!');\n  <\/script>\n</template>\n&nbsp\n<script>\n  var root = elem.createShadowRoot();\n  root.appendChild(tmpl.content.cloneNode(true));\n<\/script>`</script><code-toolbar iframe="140"><a title="показать" data-code_run="140"></a><a title="открыть в песочнице" data-code_edit=""></a></code-toolbar></code-example><p>У нас получилось, что:</p><ol><li>В элементе <code>#elem</code> содержатся данные в некоторой оговорённой разметке.</li><li>Шаблон <code>#tmpl</code> указывает, как их отобразить, куда и в какие HTML-теги завернуть содержимое <code>#elem</code>.</li><li>Здесь шаблон показывается в Shadow DOM тега. Технически, это не обязательно, шаблон можно использовать и без Shadow DOM, но тогда не сработает тег <code>&lt;content&gt;</code>.</li></ol><p>Можно также заметить, что скрипт из шаблона выполнился. Это важнейшее отличие вставки шаблона от вставки HTML через <code>innerHTML</code> и от обычного <code>DocumentFragment</code>.</p><p>Также мы вставили не сам <code>tmpl.content</code>, а его клон. Это обычная практика, чтобы можно было использовать один шаблон много раз.</p><h2><a name="1" href="#1">Итого</a></h2><p>Тег <code>&lt;template&gt;</code> не призван заменить системы шаблонизации. В нём нет хитрых операторов итерации, привязок к данным.</p><p>Его основная особенность – это возможность вставки «живого» содержимого, вместе со скриптами.</p><p>И, конечно, мелочь, но удобно, что он не требует никаких библиотек.</p><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>! function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||screen.width<1024||"bannerBottomDisabled" in localStorage||(localStorage.bannerBottomShownCount||(localStorage.bannerBottomShownCount=1),document.querySelector(".banner-bottom").style.display="block")}();</script><nav-book data-tooltips="Shadow DOM; Стили и селекторы"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url="https:\/\/learn.javascript.ru\/template-tag",disqus_identifier="template-tag",disqus_title="\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u003Ctemplate\u003E";</script></page-content></main>