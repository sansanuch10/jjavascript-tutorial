<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="1">Язык JavaScript</a><arrow-next></arrow-next><a data-load_page="7">Основы JavaScript</a></nav-up><h1>Условные операторы: if, '?'</h1><p>Иногда, в зависимости от условия, нужно выполнить различные действия. Для этого используется оператор <code>if</code>.</p><p>Например:</p><code-example><script>`var year = prompt('В каком году появилась спецификация ECMA-262 5.1?', '');\n\nif (year != 2011) alert( 'А вот и неправильно!' );`</script><code-toolbar></code-toolbar></code-example><h2><a name="a" href="#a">Оператор if</a></h2><p>Оператор <code>if</code> («если») получает условие, в примере выше это <code>year != 2011</code>. Он вычисляет его, и если результат – <code>true</code>, то выполняет команду.</p><p>Если нужно выполнить более одной команды – они оформляются блоком кода в фигурных скобках:</p><code-example><script>`if (year != 2011) {\n  alert( 'А вот..&nbsp');\n  alert( '..и неправильно!' );\n}`</script></code-example><p><strong>Рекомендуется использовать фигурные скобки всегда, даже когда команда одна.</strong></p><p>Это улучшает читаемость кода.</p><h2><a name="b" href="#b">Преобразование к логическому типу</a></h2><p>Оператор <code>if (...)</code> вычисляет и преобразует выражение в скобках к логическому типу.</p><p>В логическом контексте:</p><ul><li>Число <code>0</code>, пустая строка <code>""</code>, <code>null</code> и <code>undefined</code>, а также <code>NaN</code> являются <code>false</code>,</li><li>Остальные значения – <code>true</code>.</li></ul><p>Например, такое условие никогда не выполнится:</p><code-example><script>`if (0) { // 0 преобразуется к false\n  ...\n}`</script></code-example><p>…А такое – выполнится всегда:</p><code-example><script>`if (1) { // 1 преобразуется к true\n  ...\n}`</script></code-example><p>Можно и просто передать уже готовое логическое значение, к примеру, заранее вычисленное в переменной:</p><code-example><script>`var cond = (year != 2011); // true/false\n\nif (cond) {\n  ...\n}`</script></code-example><h2><a name="c" href="#c">Неверное условие, else</a></h2><p>Необязательный блок <code>else</code> («иначе») выполняется, если условие неверно:</p><code-example><script>`var year = prompt('Введите год появления стандарта ECMA-262 5.1', '');\n\nif (year == 2011) {\n  alert( 'Да вы знаток!' );\n} else {\n  alert( 'А вот и неправильно!' ); // любое значение, кроме 2011\n}`</script><code-toolbar></code-toolbar></code-example><h2><a name="d" href="#d">Несколько условий, else if</a></h2><p>Бывает нужно проверить несколько вариантов условия. Для этого используется блок <code>else if ...</code>. Например:</p><code-example><script>`var year = prompt('В каком году появилась спецификация ECMA-262 5.1?', '');\n\nif (year < 2011) {\n  alert( 'Это слишком рано..' );\n} else if (year > 2011) {\n  alert( 'Это поздновато..' );\n} else {\n  alert( 'Да, точно в этом году!' );\n}`</script><code-toolbar></code-toolbar></code-example><p>В примере выше JavaScript сначала проверит первое условие, если оно ложно – перейдет ко второму – и так далее, до последнего <code>else</code>.</p><h2><a name="e" href="#e">Оператор вопросительный знак „?“</a></h2><p>Иногда нужно в зависимости от условия присвоить переменную. Например:</p><code-example><script>`var access;\nvar age = prompt('Сколько вам лет?', '');\n\nMARKif (age > 14) {\nMARK  access = true;\nMARK} else {\nMARK  access = false;\nMARK}\n\nalert(access);`</script><code-toolbar></code-toolbar></code-example><p>Оператор вопросительный знак <code>'?'</code> позволяет делать это короче и проще.</p><p>Он состоит из трех частей:</p><code-example><script>`условие ? значение1 : значение2`</script></code-example><p>Проверяется условие, затем если оно верно – возвращается <code>значение1</code>, если неверно – <code>значение2</code>, например:</p><code-example><script>`access = (age > 14) ? true : false;`</script></code-example><p>Оператор <code>'?'</code> выполняется позже большинства других, в частности – позже сравнений, поэтому скобки можно не ставить:</p><code-example><script>`access = age > 14 ? true : false;`</script></code-example><p>…Но когда скобки есть – код лучше читается. Так что рекомендуется их писать.</p><important-><h3>На заметку:</h3><p>В данном случае можно было бы обойтись и без оператора <code>'?'</code>, т.к. сравнение само по себе уже возвращает <code>true/false</code>:</p><code-example><script>`access = age > 14;`</script></code-example></important-><important-><h3>«Тернарный оператор»</h3><p>Вопросительный знак – единственный оператор, у которого есть аж три аргумента, в то время как у обычных операторов их один-два.Поэтому его называют <em>«тернарный оператор»</em>.</p></important-><h2><a name="f" href="#f">Несколько операторов „?“</a></h2><p>Последовательность операторов <code>'?'</code> позволяет вернуть значение в зависимости не от одного условия, а от нескольких.</p><p>Например:</p><code-example><script>`var age = prompt('возраст?', 18);\n\nvar message = (age < 3) ? 'Здравствуй, малыш!' :\n  (age < 18) ? 'Привет!' :\n  (age < 100) ? 'Здравствуйте!' :\n  'Какой необычный возраст!';\n\nalert( message );`</script><code-toolbar></code-toolbar></code-example><p>Поначалу может быть сложно понять, что происходит. Однако, внимательно приглядевшись, мы замечаем, что это обычная последовательная проверка!</p><p>Вопросительный знак проверяет сначала <code>age &lt; 3</code>, если верно – возвращает <code>'Здравствуй, малыш!'</code>, если нет – идет за двоеточие и проверяет <code>age &lt; 18</code>. Если это верно – возвращает <code>'Привет!'</code>, иначе проверка <code>age &lt; 100</code> и <code>'Здравствуйте!'</code>… И наконец, если ничего из этого не верно, то <code>'Какой необычный возраст!'</code>.</p><p>То же самое через <code>if..else</code>:</p><code-example><script>`if (age < 3) {\n  message = 'Здравствуй, малыш!';\n} else if (age < 18) {\n  message = 'Привет!';\n} else if (age < 100) {\n  message = 'Здравствуйте!';\n} else {\n  message = 'Какой необычный возраст!';\n}`</script><code-toolbar></code-toolbar></code-example><h2><a name="g" href="#g">Нетрадиционное использование „?“</a></h2><p>Иногда оператор вопросительный знак <code>'?'</code> используют как замену <code>if</code>:</p><code-example><script>`var company = prompt('Какая компания создала JavaScript?', '');\n\nMARK(company == 'Netscape') ?\nMARK   alert('Да, верно') : alert('Неправильно');`</script><code-toolbar></code-toolbar></code-example><p>Работает это так: в зависимости от условия, будет выполнена либо первая, либо вторая часть после <code>'?'</code>.</p><p>Результат выполнения не присваивается в переменную, так что пропадёт (впрочем, <code>alert</code> ничего не возвращает).</p><p><strong>Рекомендуется не использовать вопросительный знак таким образом.</strong></p><p>Несмотря на то, что с виду такая запись короче <code>if</code>, она является существенно менее читаемой.</p><p>Вот, для сравнения, то же самое с <code>if</code>:</p><code-example><script>`var company = prompt('Какая компания создала JavaScript?', '');\n\nMARKif (company == 'Netscape') {\nMARK  alert('Да, верно');\nMARK} else {\nMARK  alert('Неправильно');\nMARK}`</script><code-toolbar></code-toolbar></code-example><p>При чтении кода глаз идёт вертикально и конструкции, занимающие несколько строк, с понятной вложенностью, воспринимаются гораздо легче. Возможно, вы и сами почувствуете, пробежавшись глазами, что синтаксис с <code>if</code> более прост и очевиден чем с оператором <code>'?'</code>.</p><p>Смысл оператора <code>'?'</code> – вернуть то или иное значение, в зависимости от условия. Пожалуйста, используйте его по назначению, а для выполнения разных веток кода есть <code>if</code>.</p><h2 id="tasks"><a href="#tasks">Задачи (6)</a></h2><task-content><h3><a href="#if-строка-с-нулём" name="if-строка-с-нулём">if (строка с нулём)</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Выведется ли <code>alert</code>?</p><code-example><script>`if ("0") {\n  alert( "Привет" );\n}`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p><strong>Да, выведется,</strong> т.к. внутри <code>if</code> стоит строка <code>"0"</code>.</p><p>Любая строка, кроме пустой (а здесь она не пустая), в логическом контексте является <code>true</code>.</p><p>Можно запустить и проверить:</p><code-example><script>`if ("0") {\n  alert( "Привет" );\n}`</script><code-toolbar></code-toolbar></code-example></task-answer></task-content><task-content><h3><a href="#проверка-стандарта" name="проверка-стандарта">Проверка стандарта</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 2</span><p>Используя конструкцию <code>if..else</code>, напишите код, который будет спрашивать: «Каково «официальное» название JavaScript?».</p><p>Если посетитель вводит «ECMAScript», то выводить «Верно!», если что-то другое – выводить «Не знаете? «ECMAScript»!».</p><p>Блок-схема:</p><figure><img src="ifelse_task2.png" style="width: inherit;max-width:444px"></figure><p><a data-run_demo="">Запустить демо</a></p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><code-example><script>`<!DOCTYPE html>\n<html>\n\n<body>\n  <script>\n    var value = prompt('Каково "официальное" название JavaScript?', '');\n\n    if (value == 'ECMAScript') {\n      alert('Верно!');\n    } else {\n      alert('Не знаете? \"ECMAScript\"!');\n    }\n  <\/script>\n\n</body>\n\n</html>`</script><code-toolbar></code-toolbar></code-example></task-answer></task-content><task-content><h3><a href="#получить-знак-числа" name="получить-знак-числа">Получить знак числа</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 2</span><p>Используя конструкцию <code>if..else</code>, напишите код, который получает значение <code>prompt</code>, а затем выводит <code>alert</code>:</p><ul><li><code>1</code>, если значение больше нуля,</li><li><code>-1</code>, если значение меньше нуля,</li><li><code>0</code>, если значение равно нулю.</li></ul><p><a data-run_demo="">Запустить демо</a></p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer style=""><close- title="закрыть" data-close_answer=""></close-><code-example><script>`var value = prompt('Введите число', 0);\n\nif (value > 0) {\n  alert( 1 );\n} else if (value < 0) {\n  alert( -1 );\n} else {\n  alert( 0 );\n}`</script><code-toolbar></code-toolbar></code-example></task-answer></task-content><task-content><h3><a href="#проверка-логина" name="проверка-логина">Проверка логина</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 3</span><p>Напишите код, который будет спрашивать логин ( <code>prompt</code>).</p><p>Если посетитель вводит «Админ», то спрашивать пароль, если нажал отмена (escape) – выводить «Вход отменён», если вводит что-то другое – «Я вас не знаю».</p><p>Пароль проверять так. Если введён пароль «Чёрный Властелин», то выводить «Добро пожаловать!», иначе – «Пароль неверен», при отмене – «Вход отменён».</p><p>Блок-схема:</p><figure><img src="ifelse_task.png" style="width: 100%;max-width:599px"></figure><p>Для решения используйте вложенные блоки <code>if</code>. Обращайте внимание на стиль и читаемость кода.</p><p><a data-run_demo="">Запустить демо</a></p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><code-example><script>`var userName = prompt('Кто пришёл?', '');\n\nif (userName == 'Админ') {\n\n  var pass = prompt('Пароль?', '');\n\n  if (pass == 'Чёрный Властелин') {\n    alert( 'Добро пожаловать!' );\n  } else if (pass == null) { // (*)\n    alert( 'Вход отменён' );\n  } else {\n    alert( 'Пароль неверен' );\n  }\n\n} else if (userName == null) { // (**)\n  alert( 'Вход отменён' );\n\n} else {\n\n  alert( 'Я вас не знаю' );\n\n}`</script><code-toolbar></code-toolbar></code-example><p>Обратите внимание на проверку <code>if</code> в строках <code>(*)</code> и <code>(**)</code>. Везде, кроме Safari, нажатие «Отмена» возвращает <code>null</code>, а вот Safari возвращает при отмене пустую строку, поэтому в браузере Safari можно было бы добавить дополнительную проверку на неё.</p><p>Впрочем, такое поведение Safari является некорректным, надеемся, что скоро его исправят.</p><p>Кроме того, обратите внимание на дополнительные вертикальные отступы внутри <code>if</code>. Они не обязательны, но полезны для лучшей читаемости кода.</p></task-answer></task-content><task-content><h3><a href="#перепишите-if-в" name="перепишите-if-в">Перепишите 'if' в '?'</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Перепишите <code>if</code> с использованием оператора <code>'?'</code>:</p><code-example><script>`if (a + b < 4) {\n  result = 'Мало';\n} else {\n  result = 'Много';\n}`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer style=""><close- title="закрыть" data-close_answer=""></close-><code-example><script>`result = (a + b < 4) ? 'Мало' : 'Много';`</script></code-example></task-answer></task-content><task-content><h3><a href="#перепишите-if-else-в" name="перепишите-if-else-в">Перепишите 'if..else' в '?'</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Перепишите <code>if..else</code> с использованием нескольких операторов <code>'?'</code>.</p><p>Для читаемости – оформляйте код в несколько строк.</p><code-example><script>`var message;\n\nif (login == 'Вася') {\n  message = 'Привет';\n} else if (login == 'Директор') {\n  message = 'Здравствуйте';\n} else if (login == '') {\n  message = 'Нет логина';\n} else {\n  message = '';\n}`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer style=""><close- title="закрыть" data-close_answer=""></close-><code-example><script>`var message = (login == 'Вася') ? 'Привет' :\n  (login == 'Директор') ? 'Здравствуйте' :\n  (login == '') ? 'Нет логина' :\n  '';`</script></code-example></task-answer></task-content><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>! function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||screen.width<1024||"bannerBottomDisabled" in localStorage||(localStorage.bannerBottomShownCount||(localStorage.bannerBottomShownCount=1),document.querySelector(".banner-bottom").style.display="block")}();</script><nav-book data-tooltips="Взаимодействие с пользователем: alert, prompt, confirm; Логические операторы"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url="https:\/\/learn.javascript.ru\/ifelse",disqus_identifier="ifelse",disqus_title="\u0423\u0441\u043b\u043e\u0432\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b: if, '?'";</script></page-content></main>