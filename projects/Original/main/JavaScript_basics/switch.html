<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="1">Язык JavaScript</a><arrow-next></arrow-next><a data-load_page="7">Основы JavaScript</a></nav-up><h1>Конструкция switch</h1><p>Конструкция <code>switch</code> заменяет собой сразу несколько <code>if</code>.</p><p>Она представляет собой более наглядный способ сравнить выражение сразу с несколькими вариантами.</p><h2><a name="0" href="#0">Синтаксис</a></h2><p>Выглядит она так:</p><code-example><script>`switch(x) {\n  case 'value1':  // if (x === 'value1')\n    ...\n    [break]\n\n  case 'value2':  // if (x === 'value2')\n    ...\n    [break]\n\n  default:\n    ...\n    [break]\n}`</script></code-example><ul><li>Переменная <code>x</code> проверяется на строгое равенство первому значению <code>value1</code>, затем второму <code>value2</code> и так далее.</li><li>Если соответствие установлено – switch начинает выполняться от соответствующей директивы <code>case</code> и далее, <em>до ближайшего <code>break</code></em> (или до конца <code>switch</code>).</li><li>Если ни один <code>case</code> не совпал – выполняется (если есть) вариант <code>default</code>.</li></ul><p>При этом <code>case</code> называют <em>вариантами <code>switch</code></em>.</p><h2><a name="1" href="#1">Пример работы</a></h2><p>Пример использования <code>switch</code> (сработавший код выделен):</p><code-example><script>`var a = 2 + 2;\n\nswitch (a) {\n  case 3:\n    alert( 'Маловато' );\n    break;\nMARK  case 4:\nMARK    alert( 'В точку!' );\nMARK    break;\n  case 5:\n    alert( 'Перебор' );\n    break;\n  default:\n    alert( 'Я таких значений не знаю' );\n}`</script><code-toolbar></code-toolbar></code-example><p>Здесь оператор <code>switch</code> последовательно сравнит <code>a</code> со всеми вариантами из <code>case</code>.</p><p>Сначала <code>3</code>, затем – так как нет совпадения – <code>4</code>. Совпадение найдено, будет выполнен этот вариант, со строки <code>alert('В точку!')</code> и далее, до ближайшего <code>break</code>, который прервёт выполнение.</p><p><strong>Если <code>break</code> нет, то выполнение пойдёт ниже по следующим <code>case</code>, при этом остальные проверки игнорируются.</strong></p><p>Пример без <code>break</code>:</p><code-example><script>`var a = 2 + 2;\n\nswitch (a) {\n  case 3:\n    alert( 'Маловато' );\nMARK  case 4:\nMARK    alert( 'В точку!' );\nMARK  case 5:\nMARK    alert( 'Перебор' );\nMARK  default:\nMARK    alert( 'Я таких значений не знаю' );\n}`</script><code-toolbar></code-toolbar></code-example><p>В примере выше последовательно выполнятся три <code>alert</code>:</p><code-example><script>`alert( 'В точку!' );\nalert( 'Перебор' );\nalert( 'Я таких значений не знаю' );`</script></code-example><p>В <code>case</code> могут быть любые выражения, в том числе включающие в себя переменные и функции.</p><p>Например:</p><code-example><script>`var a = 1;\nvar b = 0;\n\nswitch (a) {\nMARK  case b + 1:\nMARK    alert( 1 );\nMARK    break;\n\n  default:\n    alert('нет-нет, выполнится вариант выше')\n}`</script><code-toolbar></code-toolbar></code-example><h2><a name="2" href="#2">Группировка case</a></h2><p>Несколько значений case можно группировать.</p><p>В примере ниже <code>case 3</code> и <code>case 5</code> выполняют один и тот же код:</p><code-example><script>`var a = 2+2;\n\nswitch (a) {\n  case 4:\n    alert('Верно!');\n    break;\n\nMARK  case 3:                    // (*)\nMARK  case 5:                    // (**)\nMARK    alert('Неверно!');\nMARK    alert('Немного ошиблись, бывает.');\nMARK    break;\n\n  default:\n    alert('Странный результат, очень странный');\n}`</script><code-toolbar></code-toolbar></code-example><p>При <code>case 3</code> выполнение идёт со строки <code>(*)</code>, при <code>case 5</code> – со строки <code>(**)</code>.</p><h2><a name="3" href="#3">Тип имеет значение</a></h2><p>Следующий пример принимает значение от посетителя.</p><code-example><script>`var arg = prompt('Введите arg?')\nswitch (arg) {\n  case '0':\n  case '1':\n    alert( 'Один или ноль' );\n\n  case '2':\n    alert( 'Два' );\n    break;\n\n  case 3:\n    alert( 'Никогда не выполнится' );\n\n  default:\n    alert( 'Неизвестное значение:&nbsp' + arg)\n}`</script><code-toolbar></code-toolbar></code-example><p>Что оно выведет при вводе числа 0? Числа 1? 2? 3?</p><p>Подумайте, выпишите свои ответы, исходя из текущего понимания работы <code>switch</code> и <em>потом</em> читайте дальше…</p><ul><li>При вводе <code>0</code> выполнится первый <code>alert</code>, далее выполнение продолжится вниз до первого <code>break</code> и выведет второй <code>alert('Два')</code>. Итого, два вывода <code>alert</code>.</li><li>При вводе <code>1</code> произойдёт то же самое.</li><li>При вводе <code>2</code>, <code>switch</code> перейдет к <code>case '2'</code>, и сработает единственный <code>alert('Два')</code>.</li><li><strong>При вводе <code>3</code>, <code>switch</code> перейдет на <code>default</code>.</strong> Это потому, что <code>prompt</code> возвращает строку <code>'3'</code>, а не число. Типы разные. Оператор <code>switch</code> предполагает строгое равенство <code>===</code>, так что совпадения не будет.</li></ul><h2 id="tasks"><a href="#4" name="4">Задачи (2)</a></h2><task-content><h3><a href="#6" name="6">Напишите "if", аналогичный "switch"</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Напишите <code>if..else</code>, соответствующий следующему <code>switch</code>:</p><code-example><script>`switch (browser) {\n  case 'IE':\n    alert( 'О, да у вас IE!' );\n    break;\n\n  case 'Chrome':\n  case 'Firefox':\n  case 'Safari':\n  case 'Opera':\n    alert( 'Да, и эти браузеры мы поддерживаем' );\n    break;\n\n  default:\n    alert( 'Мы надеемся, что и в вашем браузере все ок!' );\n}`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Если совсем точно следовать условию, то сравнение должно быть строгим <code>'==='</code>.</p><p>В реальном случае, скорее всего, подойдёт обычное сравнение <code>'=='</code>.</p><code-example><script>`if(browser == 'IE') {\n  alert('О, да у вас IE!');\n} else if (browser == 'Chrome'\n || browser == 'Firefox'\n || browser == 'Safari'\n || browser == 'Opera') {\n  alert('Да, и эти браузеры мы поддерживаем');\n} else {\n  alert('Мы надеемся, что и в вашем браузере все ок!');\n}`</script></code-example><p>Обратите внимание: конструкция <code>browser == 'Chrome' || browser == 'Firefox' ...</code> разбита на несколько строк для лучшей читаемости.</p><p>Но всё равно запись через <code>switch</code> нагляднее.</p></task-answer></task-content><task-content><h3><a href="#7" name="7">Переписать if'ы в switch</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 4</span><p>Перепишите код с использованием одной конструкции <code>switch</code>:</p><code-example><script>`var a = +prompt('a?', '');\n\nif (a == 0) {\n  alert( 0 );\n}\nif (a == 1) {\n  alert( 1 );\n}\n\nif (a == 2 || a == 3) {\n  alert( '2,3' );\n}`</script><code-toolbar></code-toolbar></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Первые две проверки – обычный <code>case</code>, третья разделена на два <code>case</code>:</p><code-example><script>`var a = +prompt('a?', '');\n\nswitch (a) {\n  case 0:\n    alert( 0 );\n    break;\n\n  case 1:\n    alert( 1 );\n    break;\n\n  case 2:\n  case 3:\n    alert( '2,3' );\nMARK    break;\n}`</script><code-toolbar></code-toolbar></code-example><p>Обратите внимание: <code>break</code> внизу не обязателен, но ставится по «правилам хорошего тона».</p><p>Допустим, он не стоит. Есть шанс, что в будущем нам понадобится добавить в конец ещё один <code>case</code>, например <code>case 4</code>, и мы, вполне вероятно, забудем этот <code>break</code> поставить. В результате выполнение <code>case 2</code>/<code>case 3</code> продолжится на <code>case 4</code> и будет ошибка.</p></task-answer></task-content><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>! function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||screen.width<1024||"bannerBottomDisabled" in localStorage||(localStorage.bannerBottomShownCount||(localStorage.bannerBottomShownCount=1),document.querySelector(".banner-bottom").style.display="block")}();</script><nav-book data-tooltips="Циклы while, for; Функции"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url="https:\/\/learn.javascript.ru\/switch",disqus_identifier="switch",disqus_title="\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f switch";</script></page-content></main>