<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="1">Язык JavaScript</a><arrow-next></arrow-next><a data-load_page="7">Основы JavaScript</a></nav-up><h1>Логические операторы</h1><p>Для операций над логическими значениями в JavaScript есть <code>||</code> (ИЛИ), <code>&amp;&amp;</code> (И) и <code>!</code> (НЕ).</p><p>Хоть они и называются <em>«логическими»</em>, но в JavaScript могут применяться к значениям любого типа и возвращают также значения любого типа.</p><h2><a name="a" href="#a">|| (ИЛИ)</a></h2><p>Оператор ИЛИ выглядит как двойной символ вертикальной черты:</p><code-example><script>`result = a || b;`</script></code-example><p>Логическое ИЛИ в классическом программировании работает следующим образом: "если <em>хотя бы один</em> из аргументов <code>true</code>, то возвращает <code>true</code>, иначе – <code>false</code>". В JavaScript, как мы увидим далее, это не совсем так, но для начала рассмотрим только логические значения.</p><p>Получается следующая «таблица результатов»:</p><code-example><script>`alert( true || true ); // true\nalert( false || true ); // true\nalert( true || false ); // true\nalert( false || false ); // false`</script><code-toolbar></code-toolbar></code-example><p>Если значение не логического типа – то оно к нему приводится в целях вычислений. Например, число <code>1</code> будет воспринято как <code>true</code>, а <code>0</code> – как <code>false</code>:</p><code-example><script>`if (1 || 0) { // сработает как if( true || false )\n  alert( 'верно' );\n}`</script><code-toolbar></code-toolbar></code-example><p>Обычно оператор ИЛИ используется в <code>if</code>, чтобы проверить, выполняется ли хотя бы одно из условий, например:</p><code-example><script>`var hour = 9;\nMARKif (hour < 10 || hour > 18) {\n  alert( 'Офис до 10 или после 18 закрыт' );\n}`</script><code-toolbar></code-toolbar></code-example><p>Можно передать и больше условий:</p><code-example><script>`var hour = 12,\n  isWeekend = true;\n\nif (hour < 10 || hour > 18 || isWeekend) {\n  alert( 'Офис до 10 или после 18 или в выходной закрыт' );\n}`</script><code-toolbar></code-toolbar></code-example><h2><a name="b" href="#b">Короткий цикл вычислений</a></h2><p>JavaScript вычисляет несколько ИЛИ слева направо. При этом, чтобы экономить ресурсы, используется так называемый <em>«короткий цикл вычисления»</em>.</p><p>Допустим, вычисляются несколько ИЛИ подряд: <code>a || b || c || ...</code>. Если первый аргумент – <code>true</code>, то результат заведомо будет <code>true</code> (хотя бы одно из значений – <code>true</code>), и остальные значения игнорируются.</p><p>Это особенно заметно, когда выражение, переданное в качестве второго аргумента, имеет <em>сторонний эффект</em> – например, присваивает переменную.</p><p>При запуске примера ниже присвоение <code>x</code> не произойдёт:</p><code-example><script>`var x;\n\nHIGHtrueLIGHT || (x = 1);\n\nalert(x); // undefined, x не присвоен`</script><code-toolbar></code-toolbar></code-example><p>…А в примере ниже первый аргумент – <code>false</code>, так что ИЛИ попытается вычислить второй, запустив тем самым присваивание:</p><code-example><script>`var x;\n\nHIGHfalseLIGHT || (x = 1);\n\nalert(x); // 1`</script><code-toolbar></code-toolbar></code-example><h2><a name="c" href="#c">Значение ИЛИ</a></h2><blockquote><p><code>||</code> запинается на «правде»,  <br>  <code>&amp;&amp;</code> запинается на «лжи».</p><span>Илья Канатов, участник курса JavaScript</span></blockquote><p>Итак, как мы видим, оператор ИЛИ вычисляет ровно столько значений, сколько необходимо – до первого <code>true</code>.</p><p>При этом оператор ИЛИ возвращает то значение, на котором остановились вычисления. Причём, не преобразованное к логическому типу.</p><p>Например:</p><code-example><script>`alert( 1 || 0 ); // 1\nalert( true || 'неважно что' ); // true\n\nalert( null || 1 ); // 1\nalert( undefined || 0 ); // 0"`</script><code-toolbar></code-toolbar></code-example><p>Это используют, в частности, чтобы выбрать первое «истинное» значение из списка:</p><code-example><script>`var undef; // переменная не присвоена, т.е. равна undefined\nvar zero = 0;\nvar emptyStr = "";\nvar msg = "Привет!";\n\nMARKvar result = undef || zero || emptyStr || msg || 0;\n\nalert( result ); // выведет "Привет!" - первое значение, которое является true`</script><code-toolbar></code-toolbar></code-example><p>Если все значения «ложные», то <code>||</code> возвратит последнее из них:</p><code-example><script>`alert( undefined || '' || false || 0 ); // 0`</script><code-toolbar></code-toolbar></code-example><p>Итак, оператор <code>||</code> вычисляет операнды слева направо до первого «истинного» и возвращает его, а если все ложные – то последнее значение.</p><p>Иначе можно сказать, что " <code>||</code> запинается на правде".</p><h2><a name="d" href="#d">&amp;&amp; (И)</a></h2><p>Оператор И пишется как два амперсанда <code>&amp;&amp;</code>:</p><code-example><script>`result = a && b;`</script></code-example><p>В классическом программировании И возвращает <code>true</code>, если оба аргумента истинны, а иначе – <code>false</code>:</p><code-example><script>`alert( true && true ); // true\nalert( false && true ); // false\nalert( true && false ); // false\nalert( false && false ); // false`</script><code-toolbar></code-toolbar></code-example><p>Пример с <code>if</code>:</p><code-example><script>`var hour = 12,\n  minute = 30;\n\nif (hour == 12 && minute == 30) {\n  alert( 'Время 12:30' );\n}`</script><code-toolbar></code-toolbar></code-example><p>Как и в ИЛИ, в И допустимы любые значения:</p><code-example><script>`if (1 && 0) { // вычислится как true && false\n  alert( 'не сработает, т.к. условие ложно' );\n}`</script><code-toolbar></code-toolbar></code-example><p>К И применим тот же принцип «короткого цикла вычислений», но немного по-другому, чем к ИЛИ.</p><p>Если левый аргумент – <code>false</code>, оператор И возвращает его и заканчивает вычисления. Иначе – вычисляет и возвращает правый аргумент.</p><p>Например:</p><code-example><script>`// Первый аргумент - true,\n// Поэтому возвращается второй аргумент\nalert( 1 && 0 ); // 0\nalert( 1 && 5 ); // 5\n\n// Первый аргумент - false,\n// Он и возвращается, а второй аргумент игнорируется\nalert( null && 5 ); // null\nalert( 0 && 'не важно' ); // 0`</script><code-toolbar></code-toolbar></code-example><p>Можно передать и несколько значений подряд, при этом возвратится первое «ложное» (на котором остановились вычисления), а если его нет – то последнее:</p><code-example><script>`alert( 1 && 2 && null && 3 ); // null\n\nalert( 1 && 2 && 3 ); // 3`</script><code-toolbar></code-toolbar></code-example><p>Итак, оператор <code>&amp;&amp;</code> вычисляет операнды слева направо до первого «ложного» и возвращает его, а если все истинные – то последнее значение.</p><p>Иначе можно сказать, что " <code>&amp;&amp;</code> запинается на лжи".</p><important-><h3>Приоритет у <code>&amp;&amp;</code> больше, чем у <code>||</code></h3><p>Приоритет оператора И <code>&amp;&amp;</code> больше, чем ИЛИ <code>||</code>, так что он выполняется раньше.</p><p>Поэтому в следующем коде сначала будет вычислено правое И: <code>1 &amp;&amp; 0 = 0</code>, а уже потом – ИЛИ.</p><code-example><script>`alert( 5 || 1 && 0 ); // 5`</script><code-toolbar></code-toolbar></code-example></important-><important-warn><h3>Не используйте <code>&amp;&amp;</code> вместо <code>if</code></h3><p>Оператор <code>&amp;&amp;</code> в простых случаях можно использовать вместо <code>if</code>, например:</p><code-example><script>`var x = 1;\n\n(x > 0) && alert( 'Больше' );`</script><code-toolbar></code-toolbar></code-example><p>Действие в правой части <code>&amp;&amp;</code> выполнится только в том случае, если до него дойдут вычисления. То есть, <code>alert</code> сработает, если в левой части будет <code>true</code>.</p><p>Получился аналог:</p><code-example><script>`var x = 1;\n\nif (x > 0) {\n  alert( 'Больше' );\n}`</script><code-toolbar></code-toolbar></code-example><p>Однако, как правило, вариант с <code>if</code> лучше читается и воспринимается. Он более очевиден, поэтому лучше использовать его. Это, впрочем, относится и к другим неочевидным применениям возможностей языка.</p></important-warn><h2><a name="e" href="#e">! (НЕ)</a></h2><p>Оператор НЕ – самый простой. Он получает один аргумент. Синтаксис:</p><code-example><script>`var result = !value;`</script></code-example><p>Действия <code>!</code>:</p><ol><li>Сначала приводит аргумент к логическому типу <code>true/false</code>.</li><li>Затем возвращает противоположное значение.</li></ol><p>Например:</p><code-example><script>`alert( !true ); // false\nalert( !0 ); // true`</script><code-toolbar></code-toolbar></code-example><p><strong>В частности, двойное НЕ используют для преобразования значений к логическому типу:</strong></p><code-example><script>`alert( !!'строка' ); // true\nalert( !!null ); // false`</script><code-toolbar></code-toolbar></code-example><h2 id="tasks"><a href="#tasks">Задачи (8)</a></h2><task-content><h3><a href="#f" name="f">Что выведет alert (ИЛИ)?</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Что выведет код ниже?</p><code-example><script>`alert( null || 2 || undefined );`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer style=""><close- title="закрыть" data-close_answer=""></close-><p>Ответ: <code>2</code>, это первое значение, которое в логическом контексте даст <code>true</code>.</p><code-example><script>`alert( null || 2 || undefined );`</script><code-toolbar></code-toolbar></code-example></task-answer></task-content><task-content><h3><a href="#g" name="g">Что выведет alert (ИЛИ)?</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 3</span><p>Что выведет код ниже?</p><code-example><script>`alert( alert(1) || 2 || alert(3) );`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer style=""><close- title="закрыть" data-close_answer=""></close-><p>Ответ: сначала <code>1</code>, затем <code>2</code>.</p><code-example><script>`alert( alert(1) || 2 || alert(3) );`</script><code-toolbar></code-toolbar></code-example><p>Вызов <code>alert</code> не возвращает значения, или, иначе говоря, возвращает <code>undefined</code>.</p><ol><li>Первый оператор ИЛИ <code>||</code> выполнит первый <code>alert(1)</code>, получит <code>undefined</code> и пойдёт дальше, ко второму операнду.</li><li>Так как второй операнд <code>2</code> является истинным, то вычисления завершатся, результатом <code>undefined || 2</code> будет <code>2</code>, которое будет выведено внешним <code>alert( .... )</code>.</li></ol><p>Второй оператор <code>||</code> не будет выполнен, выполнение до <code>alert(3)</code> не дойдёт, поэтому <code>3</code> выведено не будет.</p></task-answer></task-content><task-content><h3><a href="#h" name="h">Что выведет alert (И)?</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><a href="/task/alert-1-null-2" target="_blank"></a><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Что выведет код ниже?</p><code-example><script>`alert( 1 && null && 2 );`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer style=""><close- title="закрыть" data-close_answer=""></close-><p>Ответ: <code>null</code>, это первое ложное значение из списка.</p><code-example><script>`alert( 1 && null && 2 );`</script><code-toolbar></code-toolbar></code-example></task-answer></task-content><task-content><h3><a href="#i" name="i">Что выведет alert (И)?</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 3</span><p>Что выведет код ниже?</p><code-example><script>`alert( alert(1) && alert(2) );`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Ответ: <code>1</code>, а затем <code>undefined</code>.</p><code-example><script>`alert( alert(1) && alert(2) );`</script><code-toolbar></code-toolbar></code-example><p>Вызов <code>alert</code> не возвращает значения, или, иначе говоря, возвращает <code>undefined</code>.</p><p>Поэтому до правого <code>alert</code> дело не дойдёт, вычисления закончатся на левом.</p></task-answer></task-content><task-content><h3><a href="#j" name="j">Что выведет этот код?</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Что выведет код ниже?</p><code-example><script>`alert( null || 2 && 3 || 4 );`</script></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Ответ: <code>3</code>.</p><code-example><script>`alert( null || 2 && 3 || 4 );`</script><code-toolbar></code-toolbar></code-example><p>Приоритет оператора <code>&amp;&amp;</code> выше, чем <code>||</code>, поэтому он выполнится первым.</p><p>Последовательность вычислений:</p><code-example><script>`null || 2 && 3 || 4\nnull || 3 || 4\n3`</script></code-example></task-answer></task-content><task-content><h3><a href="#k" name="k">Проверка if внутри диапазона</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 3</span><p>Напишите условие <code>if</code> для проверки того факта, что переменная <code>age</code> находится между <code>14</code> и <code>90</code> включительно.</p><p>«Включительно» означает, что концы промежутка включены, то есть <code>age</code> может быть равна <code>14</code> или <code>90</code>.</p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><code-example><script>`if (age >= 14 && age <= 90)`</script></code-example></task-answer></task-content><task-content><h3><a href="#l" name="l">Проверка if вне диапазона</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 3</span><p>Напишите условие <code>if</code> для проверки того факта, что <code>age</code> НЕ находится между 14 и 90 включительно.</p><p>Сделайте два варианта условия: первый с использованием оператора НЕ <code>!</code>, второй – без этого оператора.</p><button-answer data-toggle_answer="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Первый вариант:</p><code-example><script>`if (!(age >= 14 && age <= 90))`</script></code-example><p>Второй вариант:</p><code-example><script>`if (age < 14 || age > 90)`</script></code-example></task-answer></task-content><task-content><h3><a href="#m" name="m">Вопрос про "if"</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Какие из этих <code>if</code> верны, т.е. выполнятся?</p><p>Какие конкретно значения будут результатами выражений в условиях <code>if(...)</code>?</p><code-example><script>`if (-1 || 0) alert( 'первое' );\nif (-1 && 0) alert( 'второе' );\nif (null || -1 && 1) alert( 'третье' );`</script><code-toolbar></code-toolbar></code-example><button-answer data-toggle_answer="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Ответ: первое и третье выполнятся.</p><p>Детали:</p><code-example><script>`// Выполнится\n// Результат -1 || 0 = -1, в логическом контексте true\nif (-1 || 0) alert( 'первое' );\n\n// Не выполнится\n// -1 && 0 = 0,  в логическом контексте false\nif (-1 && 0) alert( 'второе' );\n\n// Выполнится\n// оператор && имеет больший приоритет, чем ||\n// так что -1 && 1 выполнится раньше\n// вычисления: null || -1 && 1 -> null || 1 -> 1\nif (null || -1 && 1) alert( 'третье' );`</script><code-toolbar></code-toolbar></code-example></task-answer></task-content><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>! function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||screen.width<1024||"bannerBottomDisabled" in localStorage||(localStorage.bannerBottomShownCount||(localStorage.bannerBottomShownCount=1),document.querySelector(".banner-bottom").style.display="block")}();</script><nav-book data-tooltips="Условные операторы: if, '?'; Преобразование типов для примитивов"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url="https:\/\/learn.javascript.ru\/logical-ops",disqus_identifier="logical-ops",disqus_title="\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b";</script></page-content></main>