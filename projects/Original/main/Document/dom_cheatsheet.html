<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="98">Документ, события, интерфейсы</a><arrow-next></arrow-next><a data-load_page="99">Документ и объекты страницы</a></nav-up><h1>Итого</h1><p>В этой главе кратко перечислены основные свойства и методы DOM, которые мы изучили. Их уже довольно много.</p><p>Используйте её, чтобы по-быстрому вспомнить и прокрутить в голове то, что изучали ранее. Все ли эти свойства вам знакомы?</p><p>Кое-где стоит ограничение на версии IE, но на все свойства можно сделать или найти полифилл, с которым их можно использовать везде.</p><dl><dt><code>document.createElement(tag)</code></dt><dd>Создать элемент с тегом <code>tag</code></dd><dt><code>document.createTextNode(txt)</code></dt><dd>Создать текстовый узел с текстом <code>txt</code></dd><dt><code>node.cloneNode(deep)</code></dt><dd>Клонировать существующий узел, если <code>deep=false</code>, то без потомков.</dd></dl><h2><a name="0" href="#0">Свойства узлов</a></h2><dl><dt><code>node.nodeType</code></dt><dd>Тип узла: 1(элемент) / 3(текст) / другие.</dd><dt><code>elem.tagName</code></dt><dd>Тег элемента.</dd><dt><code>elem.innerHTML</code></dt><dd>HTML внутри элемента.</dd><dt><code>elem.outerHTML</code></dt><dd>Весь HTML элемента, включая сам тег. На запись использовать с осторожностью, так как не модифицирует элемент, а вставляет новый вместо него.</dd><dt><code>node.data</code> / <code>node.nodeValue</code></dt><dd>Содержимое узла любого типа, кроме элемента.</dd><dt><code>node.textContent</code></dt><dd>Текстовое содержимое узла, для элементов содержит текст с вырезанными тегами (IE9+).</dd><dt><code>elem.hidden</code></dt><dd>Если поставить <code>true</code>, то элемент будет скрыт (IE10+).</dd></dl><h2><a name="1" href="#1">Атрибуты</a></h2><dl><dt><code>elem.getAttribute(name)</code>, <code>elem.hasAttribute(name)</code>, <code>elem.setAttribute(name, value)</code></dt><dd>Чтение атрибута, проверка наличия и запись.</dd><dt><code>elem.dataset.*</code></dt><dd>Значения атрибутов вида <code>data-*</code> (IE10+).</dd></dl><h2><a name="2" href="#2">Ссылки</a></h2><dl><dt><code>document.documentElement</code></dt><dd>Элемент <code>&lt;HTML&gt;</code></dd><dt><code>document.body</code></dt><dd>Элемент <code>&lt;BODY&gt;</code></dd><dt><code>document.head</code></dt><dd>Элемент <code>&lt;HEAD&gt;</code> (IE9+)</dd></dl><p>По всем узлам:</p><ul><li><code>parentNode</code></li><li><code>nextSibling</code><code>previousSibling</code></li><li><code>childNodes</code><code>firstChild</code><code>lastChild</code></li></ul><p>Только по элементам:</p><ul><li><code>parentElement</code></li><li><code>nextElementSibling</code><code>previousElementSibling</code></li><li><code>children</code>, <code>firstElementChild</code><code>lastElementChild</code></li></ul><p>Все они IE9+, кроме <code>children</code>, который работает в IE8-, но содержит не только элементы, но и комментарии (ошибка в браузере).</p><p>Дополнительно у некоторых типов элементов могут быть и другие ссылки, свойства, коллекции для навигации,например для таблиц:</p><dl><dt><code>table.rows[N]</code></dt><dd>строка <code>TR</code> номер <code>N</code>.</dd><dt><code>tr.cells[N]</code></dt><dd>ячейка <code>TH/TD</code> номер <code>N</code>.</dd><dt><code>tr.sectionRowIndex</code></dt><dd>номер строки в таблице в секции <code>THEAD/TBODY</code>.</dd><dt><code>td.cellIndex</code></dt><dd>номер ячейки в строке.</dd></dl><h2><a name="3" href="#3">Поиск</a></h2><dl><dt><code>*.querySelector(css)</code></dt><dd>По селектору, только первый элемент</dd><dt><code>*.querySelectorAll(css)</code></dt><dd>По селектору CSS3, в IE8 по CSS 2.1</dd><dt><code>document.getElementById(id)</code></dt><dd>По уникальному <code>id</code></dd><dt><code>document.getElementsByName(name)</code></dt><dd>По атрибуту <code>name</code>,  в IE9- работает только для элементов, где <code>name</code> предусмотрен стандартом.</dd><dt><code>*.getElementsByTagName(tag)</code></dt><dd>По тегу <code>tag</code></dd><dt><code>*.getElementsByClassName(class)</code></dt><dd>По классу, IE9+, корректно работает с элементами, у которых несколько классов.</dd></dl><p>Вообще, обычно можно использовать только <code>querySelector/querySelectorAll</code>. Методы <code>getElement*</code> работают быстрее (за счёт более оптимальной внутренней реализации), но в 99% случаев это различие очень небольшое и роли не играет.</p><p>Дополнительно есть методы:</p><dl><dt><code>elem.matches(css)</code></dt><dd>Проверяет, подходит ли элемент под CSS-селектор.</dd><dt><code>elem.closest(css)</code></dt><dd>Ищет ближайший элемент сверху по иерархии DOM, подходящий под CSS-селектор. Первым проверяется сам <code>elem</code>. Этот элемент возвращается.</dd><dt><code>elemA.contains(elemB)</code></dt><dd>Возвращает <code>true</code>, если <code>elemA</code> является предком (содержит) <code>elemB</code>.</dd><dt><code>elemA.compareDocumentPosition(elemB)</code></dt><dd>Возвращает битовую маску, которая включает в себя отношение вложенности между <code>elemA</code> и <code>elemB</code>, а также – какой из элементов появляется в DOM первым.</dd></dl><h2><a name="4" href="#4">Изменение</a></h2><ul><li><code>parent.appendChild(newChild)</code></li><li><code>parent.removeChild(child)</code></li><li><code>parent.insertBefore(newChild, refNode)</code></li><li><code>parent.insertAdjacentHTML("beforeBegin|afterBegin|beforeEnd|afterEnd", html)</code></li><li><code>parent.insertAdjacentElement("beforeBegin|...|afterEnd", text)</code> (кроме FF)</li><li><code>parent.insertAdjacentText("beforeBegin|...|afterEnd", text)</code> (кроме FF)</li><li><code>document.write(...)</code></li></ul><p>Скорее всего, понадобятся полифиллы для:</p><ul><li><code>node.append(...nodes)</code></li><li><code>node.prepend(...nodes)</code></li><li><code>node.after(...nodes)</code>,</li><li><code>node.before(...nodes)</code></li><li><code>node.replaceWith(...nodes)</code></li></ul><h2><a name="5" href="#5">Классы и стили</a></h2><dl><dt><code>elem.className</code></dt><dd>Атрибут <code>class</code></dd></dl><p><code>elem.classList.add(class) remove(class) toggle(class) contains(class)</code>:Управление классами, для IE9- есть <a href="https://github.com/eligrey/classList.js/blob/master/classList.js">эмуляция</a>.</p><dl><dt><code>elem.style</code></dt><dd>Стили в атрибуте <code>style</code> элемента</dd><dt><code>getComputedStyle(elem, "")</code></dt><dd>Стиль, с учётом всего каскада, вычисленный и применённый (только чтение)</dd></dl><h2><a name="6" href="#6">Размеры и прокрутка элемента</a></h2><dl><dt><code>clientLeft/Top</code></dt><dd>Ширина левой/верхней рамки <code>border</code></dd><dt><code>clientWidth/Height</code></dt><dd>Ширина/высота внутренней части элемента, включая содержимое и <code>padding</code>, не включая полосу прокрутки (если есть).</dd><dt><code>scrollWidth/Height</code></dt><dd>Ширина/высота внутренней части элемента, с учетом прокрутки.</dd><dt><code>scrollLeft/Top</code></dt><dd>Ширина/высота прокрученной области.</dd><dt><code>offsetWidth/Height</code></dt><dd>Полный размер элемента: ширина/высота, включая <code>border</code>.</dd></dl><h2><a name="7" href="#7">Размеры и прокрутка страницы</a></h2><ul><li><p>ширина/высота видимой области: <code>document.documentElement.clientHeight</code></p></li><li><p>прокрутка(чтение): <code>window.pageYOffset || document.documentElement.scrollTop</code></p></li><li><p>прокрутка(изменение):</p><ul><li><code>window.scrollBy(x,y)</code>: на x,y относительно текущей позиции.</li><li><code>window.scrollTo(pageX, pageY)</code>: на координаты в документе.</li><li><code>elem.scrollIntoView(true/false)</code>: прокрутить, чтобы <code>elem</code> стал видимым и оказался вверху окна(<code>true</code>) или внизу(<code>false</code>)</li></ul></li></ul><h2><a name="8" href="#8">Координаты</a></h2><ul><li>относительно окна: <code>elem.getBoundingClientRect()</code></li><li>относительно документа: <code>elem.getBoundingClientRect()</code> + прокрутка страницы</li><li>получить элемент по координатам: <code>document.elementFromPoint(clientX, clientY)</code></li></ul><p>Список намеренно сокращён, чтобы было проще найти то, что нужно.</p><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>!function () { /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || screen.width < 1024 || "bannerBottomDisabled" in localStorage || (localStorage.bannerBottomShownCount || (localStorage.bannerBottomShownCount = 1), document.querySelector(".banner-bottom").style.display = "block") }();</script><nav-book data-tooltips="Координаты в документе; Основы работы с событиями"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url = "https:\/\/learn.javascript.ru\/dom-cheatsheet", disqus_identifier = "dom-cheatsheet", disqus_title = "\u0418\u0442\u043e\u0433\u043e";</script></page-content></main>