<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="219">Регулярные выражения</a></nav-up><h1>Начало строки ^ и конец $</h1><p>Знак каретки <code-pattern>'^'</code-pattern> и доллара <code-pattern>'$'</code-pattern> имеют в регулярном выражении особый смысл. Их называют «якорями» (anchor – англ.).</p><p>Каретка <code-pattern>^</code-pattern> совпадает в начале текста, а доллар <code-pattern>$</code-pattern> – в конце.</p><p><strong>Якоря являются не символами, а проверками.</strong></p><p>До этого мы говорили о регулярных выражениях, которые ищут один или несколько символов. Если совпадение есть – эти символы включаются в результат.</p><p>А якоря – не такие. Когда поиск ходит до якоря – он проверяет, есть ли соответствие, если есть – продолжает идти по шаблону, не прибавляя ничего к результату.</p><p>Каретку <code-pattern>^</code-pattern> обычно используют, чтобы указать, что регулярное выражение необходимо проверить именно с начала текста.</p><p>Например, без каретки найдёт все числа:</p><code-example><script>`var str = '100500 попугаев съели 500100 бананов!';\nalert( str.match(GOLD_/\\d+/ig_GOLD) ); // 100500, 500100 (нашло все числа)`</script><code-toolbar></code-toolbar></code-example><p>А с кареткой – только первое:</p><code-example><script>`var str = '100500 попугаев съели 500100 бананов!';\nalert( str.match(GOLD_/^\\d+/ig_GOLD) ); // 100500 (HIGHтолько в начале строкиLIGHT)`</script><code-toolbar></code-toolbar></code-example><p>Знак доллара <code-pattern>$</code-pattern> используют, чтобы указать, что паттерн должен заканчиваться в конце текста.</p><p>Аналогичный пример с долларом для поиска числа в конце:</p><code-example><script>`var str = '100500 попугаев съели 500100';\nalert( str.match(GOLD_/\\d+$/ig_GOLD) ); // 500100`</script><code-toolbar></code-toolbar></code-example><p>Оба якоря используют одновременно, если требуется, чтобы шаблон охватывал текст с начала и до конца. Обычно это требуется при валидации.</p><p>Например, мы хотим проверить, что в переменной <code>num</code> хранится именно десятичная дробь.</p><p>Ей соответствует регэксп <code-pattern>\d+\.\d+</code-pattern>. Но простой поиск найдёт дробь в любом тексте:</p><code-example><script>`var num = "ля-ля 12.34";\nalert( num.match(GOLD_/\\d+\\.\\d+/ig_GOLD) ); // 12.34`</script><code-toolbar></code-toolbar></code-example><p>Наша же задача – проверить, что <code>num</code><em>целиком</em> соответствует паттерну <code-pattern>\d+\.\d+</code-pattern>.</p><p>Для этого обернём шаблон в якоря <code-pattern>^...$</code-pattern>:</p><code-example><script>`var num = "ля-ля 12.34";\nalert( num.match(GOLD_/^\\d+\\.\\d+$/ig_GOLD) ); // null, не дробь\n\nvar num = "12.34";\nalert( num.match(GOLD_/^\\d+\\.\\d+$/ig_GOLD) ); // 12.34, дробь!`</script><code-toolbar></code-toolbar></code-example><p>Теперь поиск ищет начало текста, за которым идёт число, затем точка, ещё число и конец текста. Это как раз то, что нужно.</p><h2 id="tasks"><a href="#0" name="0">Задачи (2)</a></h2><task-content><h3><a href="#3" name="3">Регэксп ^$</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><p>Предложите строку, которая подойдёт под регулярное выражение <code-pattern>^$</code-pattern>.</p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer style=""><close- title="закрыть" data-close_answer=""></close-><p>Нам нужна строка, которая начинается – и тут же кончается. То есть, пустая.</p><p>Или, если быть ближе к механике регэкспов, то движок сначала будет искать в тексте начальную позицию <code-pattern>^</code-pattern>, а как только найдёт её – будет ожидать конечной <code-pattern>$</code-pattern>.</p><p>Заметим, что и <code-pattern>^</code-pattern> и <code-pattern>$</code-pattern> не требуют наличия символов. Это – проверки. В пустой строке движок сначала проверит первую, а потом – вторую – и зафиксирует совпадение.</p></task-answer></task-content><task-content><h3><a href="#4" name="4">Проверьте MAC-адрес</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><p>MAC-адрес сетевого интерфейса состоит из шести двузначных шестнадцатеричных чисел, разделённых двоеточием.</p><p>Например: <code-subject>'01:32:54:67:89:AB'</code-subject>.</p><p>Напишите регулярное выражение, которое по строке проверяет, является ли она корректным MAC-адресом.</p><p>Использование:</p><code-example><script>`var re = ваш регэксп\n\nalert( re.test('01:32:54:67:89:AB') ); // true\n\nalert( re.test('0132546789AB') ); // false (нет двоеточий)\n\nalert( re.test('01:32:54:67:89') ); // false (5 чисел, а не 6)\n\nalert( re.test('01:32:54:67:89:ZZ') ) // false (ZZ в конце)`</script><code-toolbar-><div></div><a title="открыть в песочнице" data-code_edit=""></a></code-toolbar-></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Двузначное шестнадцатиричное число – это <code-pattern>[0-9a-f]{2}</code-pattern> (с учётом флага <code-pattern>/i</code-pattern>).</p><p>Нам нужно одно такое число, и за ним ещё 5 с двоеточиями перед ними: <code-pattern>[0-9a-f]{2}(:[0-9a-f]{2}){5}</code-pattern></p><p>И, наконец, совпадение должно начинаться в начале строки и заканчиваться – в конце. То есть, строка целиком должна подходить под шаблон. Для этого обернём шаблон в <code-pattern>^...$</code-pattern>.</p><p>Итого, в действии:</p><code-example><script>`var re = GOLD_/^[0-9a-f]{2}(:[0-9a-f]{2}){5}$/i_GOLD;\n\nalert( re.test('01:32:54:67:89:AB') ); // true\n\nalert( re.test('0132546789AB') ); // false (нет двоеточий)\n\nalert( re.test('01:32:54:67:89') ); // false (5 чисел, а не 6)\n\nalert( re.test('01:32:54:67:89:ZZ') ) // false (ZZ в конце)`</script><code-toolbar></code-toolbar></code-example></task-answer></task-content><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>!function () { /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || screen.width < 1024 || "bannerBottomDisabled" in localStorage || (localStorage.bannerBottomShownCount || (localStorage.bannerBottomShownCount = 1), document.querySelector(".banner-bottom").style.display = "block") }();</script><nav-book data-tooltips="Альтернация (или) |; Многострочный режим, флаг 'm'"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url = "https:\/\/learn.javascript.ru\/regexp-ahchors", disqus_identifier = "regexp-ahchors", disqus_title = "\u041d\u0430\u0447\u0430\u043b\u043e \u0441\u0442\u0440\u043e\u043a\u0438 ^ \u0438 \u043a\u043e\u043d\u0435\u0446 $";</script></page-content></main>