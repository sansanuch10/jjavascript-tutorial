<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="219">Регулярные выражения</a></nav-up><h1>Паттерны и флаги</h1><p>Регулярные выражения – мощное средство поиска и замены в строке.</p><p>В JavaScript регулярные выражения реализованы отдельным объектом <code>RegExp</code> и интегрированы в методы строк.</p><h2><a name="0" href="#0">Регэкспы</a></h2><p>Регулярное выражение (оно же «регэксп», «регулярка» или просто «рег»), состоит из <em>паттерна</em> (он же «шаблон») и необязательных <em>флагов</em>.</p><p>Синтаксис создания регулярного выражения:</p><code-example><script>`var regexp = new RegExp("шаблон", "флаги");`</script></code-example><p>Как правило, используют более короткую запись (шаблон внутри слешей <code>"/"</code>):</p><code-example><script>`var regexp = /шаблон/; // без флагов\nvar regexp = /шаблон/gmi; // с флагами gmi (изучим их дальше)`</script></code-example><p>Слеши <code>"/"</code> говорят JavaScript о том, что это регулярное выражение. Они играют здесь ту же роль, что и кавычки для обозначения строк.</p><h2><a name="1" href="#1">Использование</a></h2><p>Основа регулярного выражения – паттерн. Это строка, которую можно расширить специальными символами, которые делают поиск намного мощнее.</p><p>В простейшем случае, если флагов и специальных символов нет, поиск по паттерну – то же самое, что и обычный поиск подстроки:</p><code-example><script>`var str = "Я люблю JavaScript!"; // будем искать в этой строке\n\nvar regexp = GOLD_/лю/_GOLD;\nalert( str.search(regexp) ); // 2`</script><code-toolbar></code-toolbar></code-example><p>Сравните с обычным поиском:</p><code-example><script>`var str = "Я люблю JavaScript!";\n\nvar substr = "лю";\nalert( str.indexOf(substr) ); // 2`</script><code-toolbar></code-toolbar></code-example><p>Как видим, то же самое, разве что для регэкспа использован метод <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/search">search</a> – он как раз работает с регулярными выражениями, а для подстроки – <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf">indexOf</a>.</p><p>Но это соответствие лишь кажущееся. Очень скоро мы усложним регулярные выражения, и тогда увидим, что они гораздо мощнее.</p><important-><h3>Цветовые обозначения</h3><p>Здесь и далее в тексте используется следующая цветовая схема:</p><ul><li>регэксп (регулярное выражение) – <code-pattern>красный</code-pattern></li><li>строка – <code-subject>синий</code-subject></li><li>результат – <code-match>зеленый</code-match></li></ul></important-><h2><a name="2" href="#2">Флаги</a></h2><p>Регулярные выражения могут иметь флаги, которые влияют на поиск.</p><p>В JavaScript их всего три:</p><dl><dt><code>i</code></dt><dd>Если этот флаг есть, то регэксп ищет независимо от регистра, то есть не различает между <code>А</code> и <code>а</code>.</dd><dt><code>g</code></dt><dd>Если этот флаг есть, то регэксп ищет все совпадения, иначе – только первое.</dd><dt><code>m</code></dt><dd>Многострочный режим.</dd></dl><p>Самый простой для понимания из этих флагов – безусловно, <code>i</code>.</p><p>Пример его использования:</p><code-example><script>`var str = "Я люблю JavaScript!"; // будем искать в этой строке\n\nalert( str.search( HIGH/ЛЮ/LIGHT ) ); // -1\nalert( str.search( HIGH/ЛЮ/iLIGHT ) ); // 2`</script><code-toolbar></code-toolbar></code-example><ol><li>С регом <code-pattern>/ЛЮ/</code-pattern> вызов вернул <code>-1</code>, что означает «не найдено» (как и в <code>indexOf</code>),</li><li>С регом <code-pattern>/ЛЮ/i</code-pattern> вызов нашёл совпадение на позиции 2, так как стоит флаг <code>i</code>, а значит «лю» тоже подходит.</li></ol><p>Другие флаги мы рассмотрим в последующих главах.</p><h2><a name="3" href="#3">Итого</a></h2><ul><li>Регулярное выражение состоит из шаблона и необязательных флагов <code>g</code>, <code>i</code> и <code>m</code>.</li><li>Поиск по регулярному выражению без флагов и спец. символов, которые мы изучим далее – это то же самое, что и обычный поиск подстроки в строке. Но флаги и спец. символы, как мы увидим далее, могут сделать его гораздо мощнее.</li><li>Метод строки <code>str.search(regexp)</code> возвращает индекс, на котором найдено совпадение.</li></ul><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>!function () { /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || screen.width < 1024 || "bannerBottomDisabled" in localStorage || (localStorage.bannerBottomShownCount || (localStorage.bannerBottomShownCount = 1), document.querySelector(".banner-bottom").style.display = "block") }();</script><nav-book data-tooltips="Регулярные выражения; Методы RegExp и String"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><script>disqus_url = "https:\/\/learn.javascript.ru\/regexp-introduction", disqus_identifier = "regexp-introduction", disqus_title = "\u041f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u0438 \u0444\u043b\u0430\u0433\u0438";</script></page-content></main>