<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="197">CSS для JavaScript-разработчика</a></nav-up><h1>Свойство "float"</h1><p>Свойство <code>float</code> в CSS занимает особенное место. До его появления расположить два блока один слева от другого можно было лишь при помощи таблиц. Но в его работе есть ряд особенностей. Поэтому его иногда не любят, но при их понимании <code>float</code> станет вашим верным другом и помощником.</p><p>Далее мы рассмотрим, как работает <code>float</code>, разберём решения сопутствующих проблем, а также ряд полезных рецептов.</p><h2><a name="0" href="#0">Как работает float</a></h2><p>Синтаксис:</p><code-example><script>`float: left | right | none | inherit;`</script></code-example><p>При применении этого свойства происходит следующее:</p><ol><li>Элемент позиционируется как обычно, а затем <em>вынимается из <strike>документа</strike> потока</em> и сдвигается влево (для <code>left</code>) или вправо (для <code>right</code>) до того как коснётся либо границы родителя, либо другого элемента с <code>float</code>.</li><li>Если пространства по горизонтали не хватает для того, чтобы вместить элемент, то он сдвигается вниз до тех пор, пока не начнёт помещаться.</li><li>Другие непозиционированные блочные элементы без <code>float</code> ведут себя так, как будто элемента с <code>float</code> нет, так как он убран из потока.</li><li>Строки (inline-элементы), напротив, «знают» о <code>float</code> и обтекают элемент по сторонам.</li></ol><p>Ещё детали:</p><ol><li><p>Элемент при наличии <code>float</code> получает <code>display:block</code>.</p><p>То есть, указав элементу, у которого <code>display:inline</code> свойство <code>float: left/right</code>, мы автоматически сделаем его блочным. В частности, для него будут работать <code>width/height</code>.</p><p>Исключением являются некоторые редкие <code>display</code> наподобие <code>inline-table</code> и <code>run-in</code> (см. <a href="http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo">Relationships between „display“, „position“, and „float“</a>)</p></li><li><p>Ширина <code>float</code>-блока определяется по содержимому. (<a href="http://www.w3.org/TR/CSS2/visudet.html#float-width">«CSS 2.1, 10.3.5»</a>).</p></li><li><p>Вертикальные отступы <code>margin</code> элементов с <code>float</code> не сливаются с отступами соседей, в отличие от обычных блочных элементов.</p></li></ol><p>Это пока только теория. Далее мы рассмотрим происходящее на примере.</p><h3><a name="7" href="#7">Текст с картинками</a></h3><p>Одно из первых применений <code>float</code>, для которого это свойство когда-то было придумано – это вёрстка текста с картинками, отжатыми влево или вправо.</p><p>Например, вот страница о Винни-Пухе с картинками, которым поставлено свойство <code>float</code>:</p><figure><img src="text.png" alt="" width="100%" style="max-width:667px"></figure><p><a href="http://plnkr.co/edit/Q4lKcbLcDdIypTaGNobx?p=preview">Её HTML-код</a> выглядит примерно так:</p><code-example><script>`<img src="1.jpg" style="float:right">\n<p>Текст...</p>\n<p>Текст...</p>\n\n<img src="2.jpg" style="float:left">\n<p>Текст...</p>\n\n<img src="3.jpg" style="float:right">\n<p>Текст...</p>`</script></code-example><p>Каждая картинка, у которой есть <code>float</code>, обрабатывается в точности <a href="#float-algorithm">по алгоритму</a>, указанному выше.</p><p>Посмотрим, например, как выглядело бы начало текста без float:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:300px" src="winnie.html"></iframe></code-result-><ol><li>Элемент <code>IMG</code> вынимается из <strike>документа</strike> потока. Иначе говоря, последующие блоки начинают вести себя так, как будто его нет, и заполняют освободившееся место (изображение для наглядности полупрозрачно):</li></ol><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:250px" src="winnie_1.html"></iframe></code-result-><ol start="2"><li>Элемент <code>IMG</code> сдвигается максимально вправо(при <code>float:right</code>):</li></ol><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:250px" src="winnie_2.html"></iframe></code-result-><ol start="3"><li>Строки, в отличие от блочных элементов, «чувствуют» <code>float</code> и уступают ему место, обтекая картинку слева:</li></ol><code-result-></code-result-><p>При <code>float:left</code> – всё то же самое, только <code>IMG</code> смещается влево (или не смещается, если он и так у левого края), а строки – обтекают справа</p><p><strong>Строки и инлайн-элементы смещаются, чтобы уступить место <code>float</code>. Обычные блоки – ведут себя так, как будто элемента нет.</strong></p><p>Чтобы это увидеть, добавим параграфам фон и рамку, а также сделаем изображение немного прозрачным:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:250px" src="winnie_4.html"></iframe></code-result-><p>Как видно из рисунка, параграфы проходят «за» <code>float</code>. При этом строки в них о <code>float'ах</code> знают и обтекают их, поэтому соответствующая часть параграфа пуста.</p><h3><a name="8" href="#8">Блок с float</a></h3><p>Свойство <code>float</code> можно поставить любому элементу, не обязательно картинке. При этом элемент станет блочным.</p><p>Посмотрим, как это работает, на конкретной задаче – сделать рамку с названием вокруг картинки с Винни.</p><p>HTML будет такой:</p><code-example><script>`<h2>Винни-Пух</h2>\n\nMARK<div class="left-picture">\nMARK  <img src="winnie-mult.jpg" width="200" height="150">\nMARK  <div>Кадр из советского мультфильма</div>\nMARK</div>\n\n<p>Текст...</p>`</script></code-example><p>…То есть, <code>div.left-picture</code> включает в себя картинку и заголовок к ней. Добавим стиль с <code>float</code>:</p><code-example><script>`GOLD_.left-picture_GOLD {\n  float: left;\n\n  /* рамочка и отступ для красоты (не обязательно) */\n  margin: 0 10px 5px 0;\n  text-align: center;\n  border: 1px solid black;\n}`</script></code-example><p>Результат:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:300px" src="winnie_5.html"></iframe></code-result-><p>Заметим, что блок <code>div.left-picture</code> «обернул» картинку и текст под ней, а не растянулся на всю ширину. Это следствие того, что ширина блока с <code>float</code> определяется по содержимому.</p><h2><a name="1" href="#1">Очистка под float</a></h2><p>Разберём еще одну особенность использования свойства <code>float</code>.</p><p>Для этого выведем персонажей из мультфильма «Винни-Пух». Цель:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:600px" src="winnie_6.html"></iframe></code-result-><p>Реализуем её, шаг за шагом.</p><h3><a name="9" href="#9">Шаг 1. Добавляем информацию</a></h3><p>Попробуем просто добавить Сову после Винни-Пуха:</p><code-example><script>`<h2>Винни-Пух</h2>\n<div class="left">Картинка</div>\n<p>..Текст о Винни..</p>\n\n<h2>Сова</h2>\n<div class="left">Картинка</div>\n<p>..Текст о Сове..</p>`</script></code-example><p>Результат <a href="http://plnkr.co/edit/ScXvPJNgAAix4dof5jVK?p=preview">такого кода</a> будет странным, но предсказуемым:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:500px" src="winnie_7.html"></iframe></code-result-><p>Произошло следующее:</p><ul><li><strong>Заголовок <code>&lt;h2&gt;Сова&lt;/h2&gt;</code> не заметил <code>float</code></strong> (он же блочный элемент) и расположился сразу после предыдущего параграфа <code>&lt;p&gt;..Текст о Винни..&lt;/p&gt;</code>.</li><li>После него идёт <code>float</code>-элемент – картинка «Сова». Он был сдвинут влево. Согласно <a href="#float-algorithm">алгоритму</a>, он двигается до левой границы или до касания с другим <code>float</code>-элементом, что и произошло (картинка «Винни-Пух»).</li><li>Так как у совы <code>float:left</code>, то <strong>последующий текст обтекает её справа</strong>.</li></ul><h3><a name="10" href="#10">Шаг 2. Свойство clear</a></h3><p>Мы, конечно же, хотели бы расположить заголовок «Сова» и остальную информацию ниже Винни-Пуха.</p><p>Для решения возникшей проблемы придумано свойство <code>clear</code>.</p><p>Синтаксис:</p><code-example><script>`clear: left | right | both;`</script></code-example><p>Применение этого свойства сдвигает элемент вниз до тех пор, пока не закончатся <code>float'ы</code> слева/справа/с обеих сторон.</p><p>Применим его к заголовку <code>H2</code>:</p><code-example><script>`GOLD_h2_GOLD {\n  clear: left;\n}`</script></code-example><p>Результат <a href="http://plnkr.co/edit/u2V9DdBC4HYfCcxiSPrT?p=preview">получившегося кода</a> будет ближе к цели, но всё еще не идеален:</p><figure><img src="float-small-margin.png" alt="" width="100%" style="max-width:655px"></figure><p>Элементы теперь в нужном порядке. Но куда пропал отступ <code>margin-top</code> у заголовка «Сова»?</p><p>Теперь заголовок «Сова» прилегает снизу почти вплотную к картинке, с учётом её <code>margin-bottom</code>, но без своего большого отступа <code>margin-top</code>.</p><p>Таково поведение свойства <code>clear</code>. Оно сдвинуло элемент <code>h2</code> вниз ровно настолько, чтобы элементов <code>float</code> не было <em>сбоку от его верхней границы</em>.</p><p>Если посмотреть на элемент заголовка внимательно в инструментах разработчика, то можно заметить отступ <code>margin-top</code> у заголовка по-прежнему есть, но он располагается «за» элементом <code>float</code> и не учитывается при работе в <code>clear</code>.</p><p>Чтобы исправить ситуацию, можно добавить перед заголовком пустой промежуточный элемент без отступов, с единственным свойством <code>clear:both</code>. Тогда уже под ним отступ заголовка будет работать нормально:</p><code-example><script>`<h2>Винни-Пух</h2>\n<div class="left">Картинка</div>\n<p>Текст</p>\n\n<div style="clear:both"></div>\n\n<h2>Сова</h2>\n<div class="left">Картинка</div>\n<p>Текст</p>`</script></code-example><p>Результат <a href="http://plnkr.co/edit/7DgsMevW4KsVznwWHmKj?p=preview">получившегося кода</a>:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:600px" src="winnie_8.html"></iframe></code-result-><ul><li>Свойство <code>clear</code> гарантировало, что <code>&lt;div style="clear:both"&gt;</code> будет под картинкой с <code>float</code>.</li><li>Заголовок <code>&lt;h2&gt;Сова&lt;/h2&gt;</code> идёт после этого <code>&lt;div&gt;</code>. Так что его отступ учитывается.</li></ul><h2><a name="2" href="#2">Заполнение блока-родителя</a></h2><p>Итак, мы научились располагать другие элементы <em>под</em><code>float</code>. Теперь рассмотрим следующую особенность.</p><p><strong>Из-за того, что блок с <code>float</code> удалён из потока, родитель не выделяет под него места.</strong></p><p>Например, выделим для информации о Винни-Пухе красивый элемент-контейнер <code>&lt;div class="hero"&gt;</code>:</p><code-example><script>`<div class="hero">\n\n  <h2>Винни-Пух</h2>\n\n  <div class="left">Картинка</div>\n\n  <p>Текст.</p>\n</div>`</script></code-example><p>Стиль контейнера:</p><code-example><script>`GOLD_.hero_GOLD {\n  background: #D2B48C;\n  border: 1px solid red;\n}`</script></code-example><p>Результат <a href="http://plnkr.co/edit/yjCFbyE8xtbzK8iKQfE1?p=preview">получившегося кода</a>:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:300px" src="winnie_9.html"></iframe></code-result-><p>Элемент с <code>float</code> оказался выпавшим за границу родителя <code>.hero</code>.</p><p>Чтобы этого не происходило, используют одну из следующих техник.</p><h3><a name="11" href="#11">Поставить родителю float</a></h3><p>Элемент с <code>float</code> обязан расшириться, чтобы вместить вложенные <code>float</code>.</p><p>Поэтому, если это допустимо, то установка <code>float</code> контейнеру всё исправит:</p><code-example><script>`GOLD_.hero_GOLD {\n  background: #D2B48C;\n  border: 1px solid red;\nMARK  float: left;\n}`</script></code-example><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><iframe style="height:300px" src="winnie_10.html"></iframe></code-result-><p>Разумеется, не всегда можно поставить родителю <code>float</code>, так что смотрим дальше.</p><h3><a name="12" href="#12">Добавить в родителя элемент с clear</a></h3><p>Добавим элемент <code>div style="clear:both"</code> в самый конец контейнера <code>.hero</code>.</p><p>Он с одной стороны будет «нормальным» элементом, в потоке, и контейнер будет обязан выделить под него пространство, с другой – он знает о <code>float</code> и сместится вниз.</p><p>Соответственно, и контейнер вырастет в размере:</p><code-example><script>`<div class="hero">\n\n  <h2>Винни-Пух</h2>\n\n  <div class="left">Картинка</div>\n\n  <p>Текст.</p>\n\nMARK  <div style="clear:both"></div>\n</div>`</script></code-example><p>Результат – правильное отображение, как и в примере выше. <a href="http://plnkr.co/edit/lbxyIlgTApYTeDtyT5I3?p=preview">Открыть код</a>.</p><p>Единственный недостаток этого метода – лишний HTML-элемент в разметке.</p><h3><a name="13" href="#13">Универсальный класс clearfix</a></h3><p>Чтобы не добавлять в HTML-код лишний элемент, можно задать его через <code>:after</code>.</p><code-example><script>`GOLD_.clearfix:after_GOLD {\n  content: "."; /* добавить содержимое: "." */\n  display: block;  /* сделать блоком, т.к. inline не может иметь clear */\n  clear: both;  /* с обеих сторон clear */\n  visibility: hidden; /* сделать невидимым, зачем нам точка внизу? */\n  height: 0;  /* сделать высоту 0, чтобы не занимал место */\n}`</script></code-example><p>Добавив этот класс к родителю, получим тот же результат, что и выше. <a href="http://plnkr.co/edit/qXYHkzDFIjJ7SEHtMMeF?p=preview">Открыть код</a>.</p><h3><a name="14" href="#14">overflow:auto/hidden</a></h3><p>Если добавить родителю <code>overflow: hidden</code> или <code>overflow: auto</code>, то всё станет хорошо.</p><code-example><script>`GOLD_.hero_GOLD {\nMARK  overflow: auto;\n}`</script></code-example><p>Этот метод работает во всех браузерах, <a href="http://plnkr.co/edit/kcjBkE01NkgaV2a0vwt3?p=preview">полный код в песочнице</a>.</p><p>Несмотря на внешнюю странность, этот способ не является «хаком». Такое поведение прописано в спецификации CSS.</p><p>Однако, установка <code>overflow</code> может привести к появлению полосы прокрутки, способ с псевдоэлементом <code>:after</code> более безопасен.</p><h2><a name="3" href="#3">float вместо display:inline-block</a></h2><p>При помощи <code>float</code> можно размещать блочные элементы в строке, похоже на <code>display: inline-block</code>:</p><code-example style="display: block;"><script>`<!DOCTYPE html>\n<html>\n\n<head>\n  <meta charset="utf-8">\n  <style>\n    GOLD_#gallery li_GOLD {\n      float: left;\n      width: 130px;\n      list-style: none;\n      /* красивости */\n\n      border: 1px solid black;\n      text-align: center;\n      margin: 5px;\n    }\n  </style>\n</head>\n\n<body>\n\n  <ul id="gallery">\n    <li>\n      <img src="smiley1.png" width="130" height="130">\n      <div>Картинка 1</div>\n    </li>\n    <li>\n      <img src="smiley2.png" width="130" height="130">\n      <div>Картинка 2</div>\n    </li>\n    <li>\n      <img src="smiley3.png" width="130" height="130">\n      <div>Картинка 3</div>\n    </li>\n    <li>\n      <img src="smiley4.png" width="130" height="130">\n      <div>Картинка 4</div>\n    </li>\n    <li>\n      <img src="smiley5.png" width="130" height="130">\n      <div>Картинка 5</div>\n    </li>\n    <li>\n      <img src="smiley6.png" width="130" height="130">\n      <div>Картинка 6</div>\n    </li>\n    <li>\n      <img src="smiley7.png" width="130" height="130">\n      <div>Картинка 7</div>\n    </li>\n    <li>\n      <img src="smiley8.png" width="130" height="130">\n      <div>Картинка 8</div>\n    </li>\n    <li>\n      <img src="smiley9.png" width="130" height="130">\n      <div>Картинка 9</div>\n    </li>\n  </ul>\n</body>\n\n</html>`</script><code-toolbar- iframe="600"><a id="gallery" data-code_run="0" title="показать"></a><a title="открыть в новом окне" data-new_window="code"></a><a title="редактировать в песочнице" data-code_edit_run=""></a></code-toolbar-></code-example><p>Стиль здесь:</p><code-example><script>`GOLD_.gallery li_GOLD {\n  float: left;\n  width: 130px;\n  list-style: none;\n}`</script></code-example><p>Элементы <code>float:left</code> двигаются влево, а если это невозможно, то вниз, автоматически адаптируясь под ширину контейнера, получается эффект, аналогичный <code>display: inline-block</code>, но с особенностями <code>float</code>.</p><h2><a name="4" href="#4">Вёрстка в несколько колонок</a></h2><p>Свойство <code>float</code> позволяет делать несколько вертикальных колонок.</p><h3><a name="15" href="#15">float:left + float:right</a></h3><p>Например, для вёрстки в две колонки можно сделать два <code>&lt;div&gt;</code>. Первому указать <code>float:left</code> (левая колонка), а второму – <code>float:right</code> (правая колонка).</p><p>Чтобы они не ссорились, каждой колонке нужно дополнительно указать ширину:</p><code-example><script>`<div>Шапка</div>\n<div class="column-left">Левая колонка</div>\n<div class="column-right">Правая колонка</div>\n<div class="footer">Низ</div>`</script></code-example><p>Стили:</p><code-example><script>`GOLD_.column-left_GOLD {\n  float: left;\n  width: 30%;\n}\n\nGOLD_.column-right_GOLD {\n  float: left;\n  width: 70%;\n}\n\nGOLD_.footer_GOLD {\n  clear: both;\n}`</script></code-example><p>Результат (добавлены краски):</p><code-example style="display: block;"><script>`<!DOCTYPE html>\n<html>\n\n<head>\n  <meta charset="utf-8">\n  <style>\n    GOLD_body, html_GOLD {\n      margin: 0;\n      padding: 0;\n    }\n\n    GOLD_.column-left_GOLD {\n      float: left;\n      width: 30%;\n    }\n\n    GOLD_.column-right_GOLD {\n      float: left;\n      width: 70%;\n      overflow: auto;\n      /* расшириться вниз захватить float'ы */\n    }\n\n    GOLD_.footer_GOLD {\n      clear: both;\n    }\n\n    GOLD_.inner_GOLD {\n      margin: 1em;\n    }\n  </style>\n</head>\n\n<body>\n\n  <div style="background:yellow">Шапка</div>\n\n  <div class="column-left" style="background:#aef">\n    <div class="inner">\n      <!-- див для отступа внутри ширины родителя -->\n      <h3>Персонажи:</h3>\n      <ul>\n        <li>Винни-Пух</li>\n        <li>Ослик Иа</li>\n        <li>Сова</li>\n        <li>Кролик</li>\n      </ul>\n    </div>\n  </div>\n\n  <div class="column-right" style="background:tan">\n    <div class="inner">\n      <h3>Винни-Пух</h3>\n\n      <img src="winnie-mult.jpg" style="float:left; margin: 0 1em .5em 0">\n\n      <p>Ви́нни-Пу́х (англ. Winnie-the-Pooh) — плюшевый мишка, персонаж повестей и стихов Алана Александра Милна (цикл не имеет общего названия и обычно тоже называется «Винни-Пух», по первой книге). Один из самых известных героев детской литературы XX века.</p>\n\n      <p>В 1960-е—1970-е годы, благодаря пересказу Бориса Заходера «Винни-Пух и все-все-все», а затем и фильмам студии «Союзмультфильм», где мишку озвучивал Евгений Леонов, Винни-Пух стал очень популярен и в Советском Союзе.</p>\n\n    </div>\n  </div>\n\n  <div class="footer" style="background:yellow">Низ</div>\n\n</body>\n\n</html>`</script><code-toolbar- iframe="600"><a data-code_run="0" title="показать"></a><a title="открыть в новом окне" data-new_window="code"></a><a title="редактировать в песочнице" data-code_edit_run=""></a></code-toolbar-></code-example><p>В эту структуру легко добавить больше колонок с разной шириной. Правой колонке можно было бы указать и <code>float:right</code>.</p><h3><a name="16" href="#16">float + margin</a></h3><p>Ещё вариант – сделать <code>float</code> для левой колонки, а правую оставить в потоке, но с отбивкой через <code>margin</code>:</p><code-example><script>`GOLD_.column-left_GOLD {\n  float: left;\n  width: 30%;\n}\n\nGOLD_.column-right_GOLD {\n  margin: 0 0 0 30%;\n}\n\nGOLD_.footer_GOLD {\n  clear: both;\n}`</script></code-example><p>Результат (добавлены краски):</p><code-example style="display: block;"><script>`<!DOCTYPE html>\n<html>\n\n<head>\n  <meta charset="utf-8">\n  <style>\n    GOLD_body, html_GOLD {\n      margin: 0;\n      padding: 0;\n    }\n\n    GOLD_.column-left_GOLD {\n      float: left;\n      width: 30%;\n    }\n\n    GOLD_.column-right_GOLD {\n      float: left;\n      width: 70%;\n      overflow: auto;\n      /* расшириться вниз захватить float'ы */\n    }\n\n    GOLD_.footer_GOLD {\n      clear: both;\n    }\n\n    GOLD_.inner_GOLD {\n      margin: 1em;\n    }\n  </style>\n</head>\n\n<body>\n\n  <div style="background:yellow">Шапка</div>\n\n  <div class="column-left" style="background:#aef">\n    <div class="inner">\n      <!-- див для отступа внутри ширины родителя -->\n      <h3>Персонажи:</h3>\n      <ul>\n        <li>Винни-Пух</li>\n        <li>Ослик Иа</li>\n        <li>Сова</li>\n        <li>Кролик</li>\n      </ul>\n    </div>\n  </div>\n\n  <div class="column-right" style="background:tan">\n    <div class="inner">\n      <h3>Винни-Пух</h3>\n\n      <img src="winnie-mult.jpg" style="float:left; margin: 0 1em .5em 0">\n\n      <p>Ви́нни-Пу́х (англ. Winnie-the-Pooh) — плюшевый мишка, персонаж повестей и стихов Алана Александра Милна (цикл не имеет общего названия и обычно тоже называется «Винни-Пух», по первой книге). Один из самых известных героев детской литературы XX века.</p>\n\n      <p>В 1960-е—1970-е годы, благодаря пересказу Бориса Заходера «Винни-Пух и все-все-все», а затем и фильмам студии «Союзмультфильм», где мишку озвучивал Евгений Леонов, Винни-Пух стал очень популярен и в Советском Союзе.</p>\n\n    </div>\n  </div>\n\n  <div class="footer" style="background:yellow">Низ</div>\n\n</body>\n\n</html>`</script><code-toolbar- iframe="600"><a data-code_run="0" title="показать"></a><a title="открыть в новом окне" data-new_window="code"></a><a title="редактировать в песочнице" data-code_edit_run=""></a></code-toolbar-></code-example><p>В примере выше – показана небольшая проблема. Колонки не растягиваются до одинаковой высоты. Конечно, это не имеет значения, если фон одинаковый, но что, если он разный?</p><p>В современных браузерах (кроме IE10-) эту же задачу лучше решает flexbox.</p><p>Для старых есть различные обходы и трюки, которые позволяют обойти проблему в ряде ситуаций, но они выходят за рамки нашего обсуждения. Если интересно – посмотрите, например, <a href="http://goodline.spb.ru/III-05-002.html">Faux Columns</a>.</p><h2 id="tasks"><a href="#5" name="5">Задачи (4)</a></h2><task-content><h3><a href="#17" name="17">Разница inline-block и float</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open><task-open hover-style="" data-show_task="" title="Закрыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Галерея изображений состоит из картинок в рамках с подписями (возможно, с другой дополнительной информацией).</p><a href="#gallery" onclick="setTimeout(()=>{document.getElementById('gallery').click()},50)">Пример галереи выше.<p></p></a><p>Технически вывод такой галереи можно реализовать при помощи списка UL/LI, где:</p><ol><li>каждый LI имеет <code>display:inline-block</code></li><li>каждый LI имеет <code>float:left</code></li></ol><p>Какие различия между этими подходами? Какой вариант выбрали бы вы?</p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Разница колоссальная.</p><p>В первую очередь она в том, что <code>inline-block</code> продолжают участвовать в потоке, а <code>float</code> – нет.</p><p>Чтобы её ощутить, достаточно задать себе следующие вопросы:</p><ol><li>Что произойдёт, если контейнеру <code>UL</code> поставить рамку <code>border</code> – в первом и во втором случае?</li><li>Что будет, если элементы <code>LI</code> различаются по размеру? Будут ли они корректно перенесены на новую строку в обоих случаях?</li><li>Как будут вести себя блоки, находящиеся под галереей?</li></ol><p>Попробуйте сами на них ответить.</p><p>Затем читайте дальше.</p><dl><dt>Что будет, если контейнеру <code>UL</code> поставить рамку <code>border</code>?</dt><dd><p>Контейнер не выделяет пространство под <code>float</code>. А больше там ничего нет. В результате он просто сожмётся в одну линию сверху.</p><p>Попробуйте сами, добавьте рамку в <a href="http://plnkr.co/edit/V79tDj3fkfV0dbM4NFcx?p=preview">песочнице</a>.</p><p>А в случае с <code>inline-block</code> всё будет хорошо, т.к. элементы остаются в потоке.</p></dd><dt>Что будет, если элементы <code>LI</code> различаются по размеру? Будут ли они корректно перенесены на новую строку в обоих случаях?</dt><dd><p>При <code>float:left</code> элементы двигаются направо до тех пор, пока не наткнутся на границу внешнего блока (с учётом <code>padding</code>) или на другой <code>float</code>-элемент.</p><p>Может получиться вот так:</p><figure><img src="gallery-float-diffsize.png" alt="" width="100%" style="max-width:450px"></figure><p>Вы можете увидеть это, открыв <a data-click="new_1">демо-галерею</a> в отдельном окне и изменяя его размер:</p><figure- style="height:600px;overflow:auto;padding: 20px;"><code-toolbar-><a-></a-><a id="new_1" title="открыть в новом окне" data-new_window=""></a><a id="answer_1" title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><style>gallery-{display:block}gallery- li{float:left;/* display:inline-block;*/vertical-align:middle;width:130px;list-style:none;border:1px solid #000;text-align:center;margin:5px}gallery- img{width:130px;height:130px}gallery- li:nth-child(2n){height:200px}</style><gallery-><li><img src="smiley1.png"><div>Картинка 1</div></li><li><img src="smiley2.png"><div>Картинка 2</div></li><li><img src="smiley3.png"><div>Картинка 3</div></li><li><img src="smiley4.png"><div>Картинка 4</div></li><li><img src="smiley5.png"><div>Картинка 5</div></li><li><img src="smiley6.png"><div>Картинка 6</div></li><li><img src="smiley7.png"><div>Картинка 7</div></li><li><img src="smiley8.png"><div>Картинка 8</div></li><li><img src="smiley9.png"><div>Картинка 9</div></li></gallery-></figure-><p>При использовании <code>inline-block</code> таких странностей не будет, блоки перенесутся корректно на новую строку. И, кроме того, можно выровнять элементы по высоте при помощи <code>li { vertical-align:middle }</code>:</p></dd><dt>Как будут вести себя блоки, находящиеся под галереей?</dt><dd><p>В случае с <code>float</code> нужно добавить дополнительную очистку с <code>clear</code>, чтобы поведение было идентично обычному блоку.</p><p>Иначе блоки, находящиеся под галереей, вполне могут «заехать» по вертикали на территорию галереи.</p></dd></dl><p><a data-click="answer_1">Открыть решение в песочнице.</a></p></task-answer></task-content><task-content><h3><a href="#18" name="18">Дерево с многострочными узлами</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 3</span><p>Сделайте дерево при помощи семантической вёрстки и CSS-спрайта с иконками (есть готовый).</p><p>Выглядеть должно так (не кликабельно):</p><figure><code-toolbar-><a style="display:none" id="answer_2" data-code_edit=""></a><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-click="task_2"></a></code-toolbar-><iframe src="tree_float.html" style="height:200px"></iframe></figure><figure- style="display:none"><code-toolbar-><a id="task_2" title="открыть в песочнице" data-code_edit=""></a></code-toolbar-><style>/* ваш стиль */</style><!-- картинки для узлов --><img height="16" src="http://localhost:3000/minus.gif" width="16"><img height="16" src="http://localhost:3000/plus.gif" width="16"><img height="16" src="http://localhost:3000/article.gif" width="16"><ul><li class="open"><icon-></icon-><text->Раздел 1<br>(занимает две строки)</text-><ul><li class="closed"><icon-></icon-><text->Раздел 1.1</text-></li><li class="leaf"><icon-></icon-><text->Страница 1.2<br>(занимает две строки)</text-></li></ul></li><li class="closed"><icon-></icon-><text->Раздел 2<br>(занимает две строки)</text-></li></ul></figure-><ul><li>Поддержка многострочных названий узлов</li><li>Над иконкой курсор становится указателем.</li></ul><p>Исходный документ содержит список UL/LI и ссылку на картинку.</p><p>P.S. Достаточно сделать HTML/CSS-структуру, действия добавим позже.</p><p><a data-click="task_2">Открыть песочницу для задачи.</a></p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Для решения можно применить принцип двухколоночной верстки <code>float</code> + <code>margin</code>. Иконка будет левой колонкой, а содержимое – правой.</p><p><a data-click="answer_2">Открыть решение в песочнице.</a></p></task-answer></task-content><task-content><h3><a href="#19" name="19">Постраничная навигация (CSS)</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Оформите навигацию, центрированную внутри <code>DIV'а</code>:</p><figure- style="padding: 10px;"><code-toolbar-><a style="display:none" id="answer_3" data-code_edit=""></a><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-click="task_3"></a></code-toolbar-><style>nav-{height:40px;width:80%;margin:auto;display:block}nav- img:nth-child(1){float:left;cursor:pointer}nav- img:nth-child(2){float:right;cursor:pointer}nav- ul{list-style:none;text-align:center;margin:0;padding:0}nav- ul li{display:inline;margin:0 3px;line-height:40px;cursor:pointer}</style>Текст Сверху<nav-><img height="40" src="arrow_left.jpg" width="40"><img height="40" src="arrow_right.jpg" width="40"><ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li></ul></nav->Текст Снизу</figure-><figure- style="display:none"><code-toolbar-><a id="task_3" data-code_edit=""></a></code-toolbar-><style>nav-{height:40px;width:80%;margin:auto;display:block}/* ваш код */</style>Текст Сверху<nav-><img height="40" src="arrow_left.jpg" width="40"><ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li></ul><img height="40" src="arrow_right.jpg" width="40"></nav->Текст Снизу</figure-><p>Требования:</p><ul><li>Левая стрелка – слева, правая – справа, список страниц – по центру.</li><li>Список страниц центрирован вертикально.</li><li>Текст сверху и снизу ни на что не наползает.</li><li>Курсор при наведении на стрелку или элемент списка становится стрелкой <code>pointer</code>.</li></ul><p>P.S. Без использования таблиц.</p><p><a data-click="task_3">Открыть песочницу для задачи.</a></p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>HTML-структура:</p><code-example><script>`<div class="nav">\n  <img src="arrow-left.jpg" class="left" width="40" height="40">\n  <img src="arrow-right.jpg" class="right" width="40" height="40">\n  <ul class="pages">\n    <li>...</li>\n  </ul>\n</div>`</script></code-example><p>Стили:</p><code-example><script>`GOLD_.nav_GOLD {\n  height: 40px;\n  width: 80%;\n  margin: auto;\n}\n\nGOLD_.nav .left_GOLD {\n  float: left;\n  cursor: pointer;\n}\n\nGOLD_.nav .right_GOLD {\n  float: right;\n  cursor: pointer;\n}\n\nGOLD_.nav .pages_GOLD {\n  list-style: none;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n}\n\nGOLD_.nav .pages li_GOLD {\n  display: inline;\n  margin: 0 3px;\n  line-height: 40px;\n  cursor: pointer;\n}`</script></code-example><p>Основные моменты:</p><ul><li><p><strong>Сначала идёт левая кнопка, затем правая, а лишь затем – текст.</strong>Почему так, а не лево – центр – право?</p><p>Дело в том, что <code>float</code> смещает элемент вправо относительно обычного места. А какое обычное место будет у правого <code>IMG</code> без <code>float</code>?</p><p>Оно будет под списком, так как список – блочный элемент, а <code>IMG</code> – инлайн-элемент. При добавлении <code>float:right</code> элемент <code>IMG</code> сдвинется вправо, оставшись под списком.</p><p>Код в порядке лево-центр-право (неправильный):</p><code-example><script>`<div...>\n  <img src="arrow-left.jpg" class="left" width="40" height="40">\n  <ul class="pages"> (li) 1 2 3 4 5 6 7 8 9</ul>\n  <img src="arrow-right.jpg" class="right" width="40" height="40">\n</div>`</script></code-example><p>Его демо:</p><figure- style="padding: 10px;height: 110px;"><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a title="редактировать в песочнице" data-code_edit=""></a></code-toolbar-><style>nav-{height:40px;width:80%;margin:auto;display:block}nav- img:nth-child(1){float:left}nav- img:nth-child(3){float:right}nav- img{cursor:pointer;border:1px solid #000}nav- ul{list-style:none;text-align:center;margin:0;padding:0;border:1px solid #000}nav- ul li{display:inline;margin:0 3px;line-height:40px;cursor:pointer}</style>Текст Сверху<nav-><img height="40" src="http://localhost:3000/arrow_left.jpg" width="40"><ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li></ul><img height="40" src="http://localhost:3000/arrow_right.jpg" width="40"></nav->Текст Снизу</figure-><p>Правильный порядок: лево-право-центр, тогда <code>float</code> останется на верхней строке.</p><p>Код, который даёт правильное отображение:</p><code-example><script>`<div ...>\n  <img src="arrow-left.jpg" class="left" width="40" height="40">\n  <img src="arrow-right.jpg" class="right" width="40" height="40">\n  <ul class="pages"> .. список .. </ul>\n</div>`</script></code-example><p>Также можно расположить стрелки при помощи <code>position: absolute</code>. Тогда, чтобы текст при уменьшении размеров окна не налез на стрелки – нужно добавить в контейнер левый и правый <code>padding</code>:</p><p>Выглядеть будет примерно так:</p><code-example><script>`<div style="position:relative; padding: 0 40px;">\n  <img style="position:absolute;left:0" src="..left.." width="40" height="40">\n  <ul> (li) 1 2 3 4 5 6 7 8 9 </ul>\n  <img style="position:absolute;right:0" src="..right.." width="40" height="40">\n</div>`</script></code-example></li><li><p><strong>Центрирование одной строки по вертикали осуществляется указанием <code>line-height</code>, равной высоте.</strong></p><p>Это красиво лишь для одной строки: если окно становится слишком узким, и строка вдруг разбивается на две – получается некрасиво, хотя и читаемо.</p><p>Если хочется сделать красивее для двух строк, то можно использовать другой способ центрирования.</p></li></ul><p><a data-click="answer_3">Открыть решение в песочнице.</a></p></task-answer></task-content><task-content><h3><a href="#20" name="20">Добавить рамку, сохранив ширину</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open><task-open hover-style="" data-show_task="" title="Закрыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 4</span><p>Есть две колонки <code>30%/70%</code>:</p><code-example><script>`<style>\n  GOLD_.left_GOLD {\n    float:left;\n    width:30%;\n    background: #aef;\n  }\n\n  GOLD_.right_GOLD {\n    float:right;\n    width:70%;\n    background: tan;\n  }\n</style>\n&nbsp\n<div class="left">\n Левая<br>Колонка\n</div>\n<div class="right">\n Правая<br>Колонка<br>...\n</div>`</script><code-toolbar- iframe="110"><a title="показать" data-code_run="240"></a><a title="открыть в песочнице" data-code_edit=""></a></code-toolbar-></code-example><p>Добавьте к правой колонке рамку <code>border-left</code> и отступ <code>padding-left</code>.</p><p>Двухколоночная вёрстка при этом не должна сломаться!</p><p>Желательно не трогать свойство <code>width</code> ни слева ни справа и не создавать дополнительных элементов.</p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer-ext><button-answer-ext data-toggle_answer_ext="" style="">Подсказка</button-answer-ext><task-answer><close- title="закрыть" data-close_answer=""></close-><h4>Подсказка</h4><p>Используйте свойство <code>box-sizing</code>.</p></task-answer><button-answer-ext data-toggle_answer_ext="" style="">Решение</button-answer-ext><task-answer><close- title="закрыть" data-close_answer=""></close-><h4>Решение</h4><p>Да, можно – указываем <code>box-sizing: border-box</code> и добавляем свойства:</p><code-example><script>`<style>\n  GOLD_.left_GOLD {\n    float:left;\n    width:30%;\n    background: #aef;\n  }\n\n  GOLD_.right_GOLD {\n    float:right;\n    width:70%;\n\nMARK    box-sizing: border-box;\nMARK    BLUE_-moz-box-sizing_BLUE: border-box;\nMARK&nbsp\nMARK    BLUE_border-left_BLUE: 2px solid green;\nMARK    padding: 0 0 0 10px;\n\n    background: tan;\n  }\n</style>\n&nbsp\n<div class="left">\n Левая<br>Колонка\n</div>\n<div class="right">\n Правая<br>Колонка<br>...\n</div>`</script><code-toolbar iframe="480"><a title="показать" data-code_run="0"></a><a title="открыть в песочнице" data-code_edit=""></a></code-toolbar></code-example></task-answer></task-answer-ext></task-content><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>! function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||screen.width<1024||"bannerBottomDisabled" in localStorage||(localStorage.bannerBottomShownCount||(localStorage.bannerBottomShownCount=1),document.querySelector(".banner-bottom").style.display="block")}();</script><nav-book data-tooltips="Все значения свойства 'display'; Свойство 'position';"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url="https:\/\/learn.javascript.ru\/float",disqus_identifier="float",disqus_title="\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \"float\"";</script></page-content></main>