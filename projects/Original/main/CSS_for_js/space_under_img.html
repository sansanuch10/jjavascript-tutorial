<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="197">CSS для JavaScript-разработчика</a></nav-up><h1>Лишнее место под IMG</h1><p>Иногда под <code>IMG</code> «вдруг» появляется лишнее место. Посмотрим на эти грабли внимательнее, почему такое бывает и как этого избежать.</p><h2><a name="0" href="#0">Демонстрация проблемы</a></h2><p>Например:</p><code-example><script>`<style>\n  GOLD_*_GOLD {\n    margin: 0;\n    padding: 0;\n  }\n</style>\n<table>\n  <tr>\n    <td style="border:1px red solid">\n      <img src="square_50.png">\n    </td>\n  </tr>\n</table>`</script><code-toolbar iframe="100"><a title="показать" data-code_run="0"></a><div></div></code-toolbar></code-example><p>Посмотрите внимательно! Вы видите расстояние между рамками снизу? Это потому, что <strong>браузер резервирует дополнительное место под инлайновым элементом, чтобы туда выносить «хвосты» букв</strong>.</p><p>Вот так выглядит та же картинка с выступающим вниз символом рядом:</p><code-example><script>`<style>\n  GOLD_*_GOLD {\n    margin: 0;\n    padding: 0;\n  }\n</style>\n<table>\n  <tr>\n    <td style="border:1px red solid">\n      <img src="square_50.png">\n      p\n    </td>\n  </tr>\n</table>`</script><code-toolbar iframe="100"><a title="показать" data-code_run="0"></a><div></div></code-toolbar></code-example><p>В примере картинка обёрнута в красный <code>TD</code>. Таблица подстраивается под размер содержимого, так что проблема явно видна. Но она касается не только таблицы. Аналогичная ситуация возникнет, если вокруг <code>IMG</code> будет другой элемент с явно указанным размером, «облегающий» картинку по высоте. Браузер постарается зарезервировать место под <code>IMG</code>, хотя оно там не нужно.</p><h2><a name="1" href="#1">Решение: сделать элемент блочным</a></h2><p>Самый лучший способ избежать этого – поставить <code>display: block</code> таким картинкам:</p><code-example><script>`<style>\n  GOLD_*_GOLD {\n    margin: 0;\n    padding: 0;\n  }\n\nMARK  GOLD_img_GOLD {\nMARK    display: block\nMARK  }\n</style>\n<table>\n  <tr>\n    <td style="border:1px red solid">\n      <img src="square_50.png">\n    </td>\n  </tr>\n</table>`</script><code-toolbar iframe="100"><a title="показать" data-code_run="0"></a><div></div></code-toolbar></code-example><p>Под блочным элементом ничего не резервируется. Проблема исчезла.</p><h2><a name="2" href="#2">Решение: задать vertical-align</a></h2><p>А что, если мы, по каким-то причинам, <em>не хотим</em> делать элемент блочным?</p><p>Существует ещё один способ избежать проблемы – использовать свойство <a href="http://www.w3.org/TR/CSS2/visudet.html#propdef-vertical-align">vertical-align</a>.</p><p><strong>Если установить <code>vertical-align</code> в <code>top</code>, то инлайн-элемент будет отпозиционирован по верхней границе текущей строки.</strong></p><p>При этом браузер не будет оставлять место под изображением, так как запланирует продолжение строки сверху, а не снизу:</p><code-example><script>`<style>\n  GOLD_*_GOLD {\n    margin: 0;\n    padding: 0;\n  }\n\nMARK  GOLD_img_GOLD {\nMARK    vertical-align: top;\nMARK  }\n</style>\n<table>\n  <tr>\n    <td style="border:1px red solid">\n      <img src="square_50.png">\n    </td>\n  </tr>\n</table>`</script><code-toolbar iframe="100"><a title="показать" data-code_run="0"></a><div></div></code-toolbar></code-example><p>А вот, как браузер отобразит соседние символы в этом случае: <code>p&lt;img src="square.png"&gt;p</code></p><code-example><script>`<style>\n  GOLD_*_GOLD {\n    margin: 0;\n    padding: 0;\n  }\n</style>\n<table>\n  <tbody>\n    <tr>\n      <td style="border:1px red solid">p\n      <img height="50" width="50" src="square_50.png" style="vertical-align:top">p\n      </td>\n    </tr>\n  </tbody>\n</table>`</script><code-toolbar iframe="100"><a title="показать" data-code_run="0"></a><a-></a-></code-toolbar></code-example><p>С другой стороны, сама строка никуда не делась, изображение по-прежнему является её частью, а браузер планирует разместить другое текстовое содержимое рядом, хоть и сверху. Поэтому если изображение маленькое, то произойдёт дополнение пустым местом до высоты строки:</p><p>Например, для <code>&lt;img src="square.png" style="height:10px"&gt;</code>:</p><code-example><script>`<style>\n  GOLD_*_GOLD {\n    margin: 0;\n    padding: 0;\n  }\n</style>\n<table>\n  <RED_tbody_RED>\n    <tr>\n      <td style="border:1px red solid">\n      <img height="10" width="10" src="square_50.png" style="vertical-align:top">\n      </td>\n    </tr>\n  </RED_tbody_RED>\n</table>`</script><code-toolbar iframe="100"><a title="показать" data-code_run="0"></a><a-></a-></code-toolbar></code-example><p>Таким образом, требуется уменьшить еще и <code>line-height</code> контейнера. Окончательное решение для маленьких изображений с <code>vertical-align</code>:</p><code-example><script>`<style>\n  GOLD_*_GOLD {\n    margin: 0;\n    padding: 0;\n  }\n\nMARK  GOLD_td_GOLD {\nMARK    line-height: 1px;\nMARK  }\nMARK&nbsp\nMARK  GOLD_img_GOLD {\nMARK    vertical-align: top;\nMARK  }\n</style>\n<table>\n  <tr>\n    <td style="border:1px red solid">\n      <img src="square_50.png" style="height:10px">\n    </td>\n  </tr>\n</table>`</script><code-toolbar iframe="100"><a title="показать" data-code_run="0"></a><a-></a-></code-toolbar></code-example><h2><a name="3" href="#3">Итого</a></h2><ul><li>Пробелы под картинками появляются, чтобы оставить место под «хвосты» букв в строке. Строка «подразумевается», т.к. <code>display:inline</code>.</li><li>Можно избежать пробела, если изменить <code>display</code>, например, на <code>block</code>.</li><li>Альтернатива: <code>vertical-align:top</code> (или <code>bottom</code>), но для маленьких изображений может понадобиться уменьшить <code>line-height</code>, чтобы контейнер не оставлял место под строку.</li></ul><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>! function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||screen.width<1024||"bannerBottomDisabled" in localStorage||(localStorage.bannerBottomShownCount||(localStorage.bannerBottomShownCount=1),document.querySelector(".banner-bottom").style.display="block")}();</script><nav-book data-tooltips="Свойство 'margin'; Свойство 'overflow'"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url="https:\/\/learn.javascript.ru\/space-under-img",disqus_identifier="space-under-img",disqus_title="\u041b\u0438\u0448\u043d\u0435\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0434 IMG";</script></page-content></main>