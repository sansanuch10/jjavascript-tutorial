<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="197">CSS для JavaScript-разработчика</a></nav-up><h1>Свойство "position"</h1><p>Свойство <code>position</code> позволяет сдвигать элемент со своего обычного места. Цель этой главы – не только напомнить, как оно работает, но и разобрать ряд частых заблуждений и граблей.</p><h2><a name="0" href="#0">position: static</a></h2><p><em>Статическое позиционирование</em> производится по умолчанию, в том случае, если свойство <code>position</code> не указано.</p><p>Его можно также явно указать через CSS-свойство:</p><code-example><script>`position: static;`</script></code-example><p>Такая запись встречается редко и используется для переопределения других значений <code>position</code>.</p><p>Здесь и далее, для примеров мы будем использовать следующий документ:</p><code-example><script>`<div style="background: #fee; width: 500px">\n    Без позиционирования ("position: static").\n\n    <h2 style="background: #aef; margin: 0">Заголовок</h2>\n\n    <div>А тут - всякий разный текст... <br/>\n         ... В две строки!</div>\n</div>`</script><code-toolbar- iframe="160"><a title="показать" data-code_run="0"></a><div></div></code-toolbar-></code-example><p>В этом документе сейчас все элементы отпозиционированы статически, то есть никак.</p><summary><p>Элемент с <code>position: static</code> еще называют <em>не позиционированым</em>.</p></summary><h2><a name="1" href="#1">position: relative</a></h2><p><em>Относительное позиционирование</em> сдвигает элемент относительно его обычного положения.</p><p>Для того, чтобы применить относительное позиционирование, необходимо указать элементу CSS-свойство <code>position: relative</code> и координаты <code>left/right/top/bottom</code>.</p><p>Этот стиль сдвинет элемент на 10 пикселей относительно обычной позиции по вертикали:</p><code-example><script>`position: relative;\ntop: 10px;`</script></code-example><code-example><script>`MARK<style>\nMARK  GOLD_h2_GOLD {\nMARK    position: relative;\nMARK    top: 10px;\nMARK  }\nMARK</style>\n\n<div style="background: #fee; width: 500px">\n    Заголовок сдвинут на 10px вниз.\n\n    <h2 style="background: #aef; margin: 0;">Заголовок</h2>\n\n    <div>А тут - всякий разный текст... <br/>\n         ... В две строки!</div>\n</div>`</script><code-toolbar iframe="160"><a title="показать" data-code_run="110"></a><div></div></code-toolbar></code-example><h3><a name="10" href="#10">Координаты</a></h3><p>Для сдвига можно использовать координаты:</p><ul><li><code>top</code> – сдвиг от «обычной» верхней границы</li><li><code>bottom</code> – сдвиг от нижней границы</li><li><code>left</code> – сдвиг слева</li><li><code>right</code> – сдвиг справа</li></ul><p>Не будут работать одновременно указанные <code>top</code> и <code>bottom</code>, <code>left</code> и <code>right</code>. Нужно использовать только одну границу из каждой пары.</p><p><strong>Возможны отрицательные координаты</strong> и координаты, использующие другие единицы измерения. Например, <code>left: 10%</code> сдвинет элемент на 10% его ширины вправо, а <code>left: -10%</code> – влево. При этом часть элемента может оказаться за границей окна:</p><code-example><script>`<style>\n  GOLD_h2_GOLD {\n    position: relative;\n    left: -10%;\n  }\n</style>\n\n<div style="background: #fee; width: 500px">\n    Заголовок сдвинут на 10% влево.\n\n    <h2 style="background: #aef; margin: 0;">Заголовок</h2>\n\n    <div>А тут - всякий разный текст... <br/>\n         ... В две строки!</div>\n</div>`</script><code-toolbar- iframe="160"><a title="показать" data-code_run="110"></a><div></div></code-toolbar-></code-example><p><strong>Свойства <code>left/top</code> не будут работать для <code>position:static</code></strong>. Если их все же поставить, браузер их проигнорирует. Эти свойства предназначены для работы только с позиционированными элементами.</p><h2><a name="2" href="#2">position: absolute</a></h2><p>Синтаксис:</p><code-example><script>`position: absolute;`</script></code-example><p>Абсолютное позиционирование делает две вещи:</p><ol><li><strong>Элемент исчезает с того места, где он должен быть и позиционируется заново.</strong> Остальные элементы, располагаются так, как будто этого элемента никогда не было.</li><li><strong>Координаты <code>top/bottom/left/right</code> для нового местоположения отсчитываются от ближайшего позиционированного родителя</strong>, т.е. родителя с позиционированием, отличным от <code>static</code>. Если такого родителя нет – то относительно документа.</li></ol><p>Кроме того:</p><ul><li><strong>Ширина элемента с <code>position: absolute</code> устанавливается по содержимому.</strong> Детали алгоритма вычисления ширины <a href="http://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width">описаны в стандарте</a>.</li><li><strong>Элемент получает <code>display:block</code></strong>, который перекрывает почти все возможные <code>display</code> (см. <a href="http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo">Relationships between „display“, „position“, and „float“</a>).</li></ul><p>Например, отпозиционируем заголовок в правом-верхнем углу документа:</p><code-example><script>`MARK<style>\nMARK  GOLD_h2_GOLD {\nMARK    position: absolute;\nMARK    right: 0;\nMARK    top: 0;\nMARK  }\n</style>\n\n<div style="background: #fee; width: 500px">\n    Заголовок в правом-верхнем углу документа.\n\n    <h2 style="background: #aef; margin: 0;">Заголовок</h2>\n\n    <div>А тут - всякий разный текст... <br/>\n         ... В две строки!</div>\n</div>`</script><code-toolbar- iframe="160"><a title="показать" data-code_run="130"></a><div></div></code-toolbar-></code-example><p>Важное отличие от <code>relative</code>: <strong>так как элемент удаляется со своего обычного места, то элементы под ним сдвигаются, занимая освободившееся пространство</strong>. Это видно в примере выше: строки идут одна за другой.</p><p>Так как при <code>position:absolute</code> размер блока устанавливается по содержимому, тоширокий <code>Заголовок</code> «съёжился» до прямоугольника в углу.</p><p>Иногда бывает нужно поменять элементу <code>position</code> на <code>absolute</code>, но так, чтобы элементы вокруг не сдвигались. Как правило это делают, меняя соседей – добавляют <code>margin/padding</code> или вставляют в документ пустой элемент с такими же размерами.</p><important-><h3>Одновременное указание <code>left/right</code>, <code>top/bottom</code></h3><p><strong>В абсолютно позиционированном элементе можно одновременно задавать противоположные границы.</strong></p><p>Браузер растянет такой элемент до границ.</p><code-example><script>`<style>\nGOLD_div_GOLD {\n  position: absolute;\n  left: 10px; right: 10px; top: 10px; bottom: 10px;\n}\n</style>\n<div style="background:#aef;text-align:center">10px от границ</div>`</script><code-toolbar- iframe="140"><a title="показать" data-code_run="0"></a><div></div></code-toolbar-></code-example></important-><important-><h3>Внешним блоком является окно</h3><p>Как растянуть абсолютно позиционированный блок на всю ширину документа?</p><p>Первое, что может прийти в голову:</p><code-example><script>`/*+ no-beautify */\nGOLD_div_GOLD {\n  position: absolute;\n  left: 0; top: 0; /* в левый-верхний угол */\n  width: 100%; height: 100%; /* .. и растянуть */\n}`</script></code-example><p>Но это будет работать лишь до тех пор, пока у страницы не появится скроллинг!</p><p>Прокрутите вниз ифрейм:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a-></a-></code-toolbar-><iframe style="height:200px" src="position_100.html"></iframe></code-result-><p><strong>Вы увидите, что голубой фон оканчивается задолго до конца документа.</strong></p><p>Дело в том, что в CSS <code>100%</code> относится к ширине внешнего блока («containing block»). А какой внешний блок имеется в виду здесь, ведь элемент изъят со своего обычного места?</p><p>В данном случае им является так называемый (<a href="http://www.w3.org/TR/CSS21/visudet.html#containing-block-details">"«initial containing block»"</a>), которым является окно, <em>а не документ</em>.</p><p><strong>То есть, координаты и ширины вычисляются относительно окна, а не документа.</strong></p><p>Может быть, получится так?</p><code-example><script>`/*+ no-beautify */\nGOLD_div_GOLD {\n  position: absolute;\n  left: 0; top: 0; /* в левый-верхний угол, и растянуть..  */\n  right: 0; bottom: 0; /* ..указанием противоположных границ */\n}`</script></code-example><p>С виду логично, но нет, не получится!</p><p>Координаты <code>top/right/left/bottom</code> вычисляются относительно <em>окна</em>. Значение <code>bottom: 0</code> – нижняя граница окна, а не документа, блок растянется до неё. То есть, будет то же самое, что и в предыдущем примере.</p></important-><h2><a name="3" href="#3">position: absolute в позиционированном родителе</a></h2><p>Если у элемента есть позиционированный предок, то <code>position: absolute</code> работает относительно него, а не относительно документа.</p><p>То есть, достаточно поставить родительскому <code>div</code> позицию <code>relative</code>, даже без координат – и заголовок будет в его правом-верхнем углу, вот так:</p><code-example><script>`MARK<style>\nMARK  GOLD_h2_GOLD {\nMARK    position: absolute;\nMARK    right: 0;\nMARK    top: 0;\nMARK  }\nMARK</style>\n\n<div style="background: #fee; width: 500px; HIGHposition: relativeLIGHT">\n    Заголовок в правом-верхнем углу DIV'а.\n\n    <h2 style="background: #aef; margin: 0;">Заголовок</h2>\n\n    <div>А тут - всякий разный текст... <br/>\n         ... В две строки!</div>\n</div>`</script><code-toolbar- iframe="160"><a data-code_run="130" title="показать"></a><a-></a-></code-toolbar-></code-example><p>Нужно пользоваться таким позиционированием с осторожностью, т.к оно может перекрыть текст. Этим оно отличается от <code>float</code>.</p><p>Сравните:</p><ul><li><p>Используем <code>position</code> для размещения элемента управления:</p><code-example><script>`<button style="position: absolute; right: 10px; opacity: 0.8">\n  Кнопка\n</button>\n1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9\n1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9`</script><code-toolbar- iframe="110"><a title="показать" data-code_run="0"></a><div></div></code-toolbar-></code-example><p><strong>Часть текста перекрывается.</strong> Кнопка более не участвует в потоке.</p></li><li><p>Используем <code>float</code> для размещения элемента управления:</p><code-example><script>`<button style="float: right; margin-right: 10px; opacity: 0.8;">\n  Кнопка\n</button>\n1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9\n1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9`</script><code-toolbar- iframe="110"><a title="показать" data-code_run="0"></a><div></div></code-toolbar-></code-example><p><strong>Браузер освобождает место справа, текст перенесён.</strong> Кнопка продолжает находиться в потоке, просто сдвинута.</p></li></ul><h2><a name="4" href="#4">position: fixed</a></h2><p>Это подвид абсолютного позиционирования.</p><p>Синтаксис:</p><code-example><script>`position: fixed;`</script></code-example><p>Позиционирует объект точно так же, как <code>absolute</code>, но относительно <code>window</code>.</p><p>Разница в нескольких словах:</p><p><strong>Когда страницу прокручивают, фиксированный элемент остается на своем месте и не прокручивается вместе со страницей.</strong></p><p>В следующем примере, при прокрутке документа, ссылка <code>#top</code> всегда остается на своем месте.</p><code-example><script>`<style>\n  GOLD_#top_GOLD {\n    position: fixed;\n    right: 10px;\n    top: 10px;\n    background: #fee;\n  }\n</style>\n\n<a href="#" id="top">Наверх (остается при прокрутке)</a>\n\nФиксированное позиционирование.\n\n<p>Текст страницы.. Прокрути меня...</p>\n<p>Много строк..</p><p>Много строк..</p>\n<p>Много строк..</p><p>Много строк..</p>\n<p>Много строк..</p><p>Много строк..</p>\n<p>Много строк..</p><p>Много строк..</p>`</script><code-toolbar- iframe="150"><a title="показать" data-code_run="0"></a><a-></a-></code-toolbar-></code-example><h2><a name="5" href="#5">Итого</a></h2><p>Виды позиционирования и их особенности.</p><dl><dt><code>static</code></dt><dd>Иначе называется «без позиционирования». В явном виде задаётся только если надо переопределить другое правило CSS.</dd><dt><code>relative</code></dt><dd>Сдвигает элемент относительно текущего места.</dd></dl><ul><li>Противоположные границы <code>left/right</code> (<code>top/bottom</code>) одновременно указать нельзя.</li><li>Окружающие элементы ведут себя так, как будто элемент не сдвигался.</li></ul><dl><dt><code>absolute</code></dt><dd><p>Визуально переносит элемент на новое место.</p><p>Новое место вычисляется по координатам <code>left/top/right/bottom</code> относительно ближайшего позиционированного родителя. Если такого родителя нет, то им считается окно.</p></dd></dl><ul><li><p>Ширина элемента по умолчанию устанавливается по содержимому.</p></li><li><p>Можно указать противоположные границы <code>left/right</code> (<code>top/bottom</code>). Элемент растянется.</p></li><li><p>Окружающие элементы заполняют освободившееся место.</p></li></ul><dl><dt><code>fixed</code></dt><dd><p>Подвид абсолютного позиционирования, при котором элемент привязывается к координатам окна, а не документа.</p><p>При прокрутке он остаётся на том же месте.</p></dd></dl><h2><a name="6" href="#6">Почитать</a></h2><p>CSS-позиционирование по-настоящему глубоко в спецификации <a href="http://www.w3.org/TR/CSS2/visuren.html#positioning-scheme">Visual Formatting Model, 9.3 и ниже</a>.</p><p>Еще есть хорошее руководство <a href="http://www.barelyfitz.com/screencast/html-training/css/positioning/">CSS Positioning in 10 steps</a>, которое охватывает основные типы позиционирования.</p><h2 id="tasks"><a href="#7" name="7">Задачи (1)</a></h2><task-content><h3><a href="#11" name="11">Модальное окно</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Создайте при помощи HTML/CSS «модальное окно», то есть <code>DIV</code>, который полностью перекрывает документ и находится над ним.</p><p>При этом все элементы управления на документе перестают работать, т.к. клики попадают в <code>DIV</code>.</p><p>В примере ниже <code>DIV'у</code> дополнительно поставлен цвет фона и прозрачность, чтобы было видно перекрытие:</p><code-result-><code-toolbar-><a-></a-><a title="открыть в новом окне" data-new_window=""></a><a id="answer_1" style="display:none" data-code_edit=""></a></code-toolbar-><iframe style="height:150px" src="modal_window.html"></iframe></code-result-><figure- style="display: none;"><code-toolbar-><a data-code_edit="" id="task_1"></a></code-toolbar-><style> /* модальный DIV,который всё перекрывает */ #box{/* ...ваш стиль... */ background:#aef;opacity:0.7;}p,button{margin:35px;}</style><div id="box"></div><button onclick="alert('Эта кнопка не должна работать')">Эта кнопка не работает</button><p>Текст Текст Текст</p><button onclick="alert('Эта кнопка не должна работать')">Эта кнопка не работает</button><p>Текст Текст Текст</p><button onclick="alert('Эта кнопка не должна работать')">Эта кнопка не работает</button><p>Текст Текст Текст</p><button onclick="alert('Эта кнопка не должна работать')">Эта кнопка не работает</button><p>Текст Текст Текст</p><button onclick="alert('Эта кнопка не должна работать')">Эта кнопка не работает</button><p>Текст Текст Текст</p><button onclick="alert('Эта кнопка не должна работать')">Эта кнопка не работает</button><p>Текст Текст Текст</p><button onclick="alert('Эта кнопка не должна работать')">Эта кнопка не работает</button></figure-><p>Браузеры: все основные, IE8+. Должно работать при прокрутке окна (проверьте).</p><p><a data-click="task_1">Открыть песочницу для задачи.</a></p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Если использовать <code>position: absolute</code>, то <code>DIV</code> не растянется на всю высоту документа, т.к. координаты вычисляются <em>относительно окна</em>.</p><p>Можно, конечно, узнать эту высоту при помощи JavaScript, но CSS даёт более удобный способ. Будем использовать <code>position:fixed</code>:</p><p>Стиль:</p><code-example><script>`GOLD_#box_GOLD {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n}`</script></code-example><p>Свойство <code>z-index</code> должно превосходить все другие элементы управления, чтобы они перекрывались.</p><p><a data-click="answer_1">Открыть решение в песочнице.</a></p></task-answer></task-content><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>! function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||screen.width<1024||"bannerBottomDisabled" in localStorage||(localStorage.bannerBottomShownCount||(localStorage.bannerBottomShownCount=1),document.querySelector(".banner-bottom").style.display="block")}();</script><nav-book data-tooltips="Свойство 'float'; Центрирование горизонтальное и вертикальное"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url="https:\/\/learn.javascript.ru\/position",disqus_identifier="position",disqus_title="\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \"position\"";</script></page-content></main>