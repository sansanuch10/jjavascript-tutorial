<main><page-content><nav-up><home- data-load_page="0" hover-style=""></home-><arrow-next></arrow-next><a data-load_page="197">CSS для JavaScript-разработчика</a></nav-up><h1>Свойство "margin"</h1><p>Свойство <code>margin</code> задаёт отступы вокруг элемента. У него есть несколько особенностей, которые мы здесь рассмотрим.</p><h2><a name="0" href="#0">Объединение отступов</a></h2><p>Вертикальные отступы поглощают друг друга, горизонтальные – нет.</p><p>Например, вот документ с вертикальными и горизонтальными отступами:</p><code-example><script>`<body style="background: #aef">\n  <p style="HIGHmargin:20pxLIGHT; background:white">\n\n    <span style="HIGHmargin:20pxLIGHT; background:orange">Горизонтальный 20px</span>\n    ← 40px →\n    <span style="HIGHmargin:20pxLIGHT; background:orange">20px Отступ </span>\n\n</p>\n  <p style="HIGHmargin:15pxLIGHT; background:white">Вертикальный 20px</p>\n</body>`</script><code-toolbar iframe="150"><a title="показать" data-code_run="0"></a><div></div></code-toolbar></code-example><p>Расстояние по горизонтали между элементами <code>SPAN</code> равно <code>40px</code>, так как горизонтальные отступы по <code>20px</code> сложились.</p><p>А вот по вертикали расстояние от <code>SPAN</code> до <code>P</code> равно <code>20px</code>: из двух вертикальных отступов выбирается больший <code>max(20px, 15px) = 20px</code> и применяется.</p><h2><a name="1" href="#1">Отрицательные margin-top/left</a></h2><p>Отрицательные значения <code>margin-top/margin-left</code> смещают элемент со своего обычного места.</p><p>В CSS есть другой способ добиться похожего эффекта – а именно, <code>position:relative</code>. Но между ними есть одно принципиальное различие.</p><p><strong>При сдвиге через <code>margin</code> соседние элементы занимают освободившееся пространство, в отличие от <code>position: relative</code>, при котором элемент визуально сдвигается, но место, где он был, остается «занятым».</strong></p><p>То есть, элемент продолжает полноценно участвовать в потоке.</p><h2><a name="2" href="#2">Пример: вынос заголовка</a></h2><p>Например, есть документ с информационными блоками:</p><code-example><script>`<style>\n  GOLD_div_GOLD {\n    border: 1px solid blue;\n    margin: 2em;\n    font: .8em/1.25 Arial, sans-serif;\n  }\n\n  GOLD_h2_GOLD {\n    background: #aef;\n    margin: 0 0 0.8em 0;\n  }\n</style>\n<div>\n  <h2>Общие положения</h2>\n  <p>Настоящие Правила дорожного движения устанавливают единый порядок дорожного движения на всей территории Российской Федерации. Другие нормативные акты, касающиеся дорожного движения, должны основываться на требованиях Правил и не противоречить им.</p>\n</div>\n<div>\n  <h2>Общие обязанности водителей</h2>\n  <p>Водитель механического транспортного средства обязан иметь при себе и по требованию сотрудников милиции передавать им для проверки:</p>\n  <ul>\n    <li>водительское удостоверение на право управления транспортным средством соответствующей категории;</li>\n    <li>...и так далее...</li>\n  </ul>\n</div>`</script><code-toolbar iframe="400"><a title="показать" data-code_run="0"></a><a-></a-></code-toolbar></code-example><p><strong>Использование отрицательного <code>margin-top</code> позволяет вынести заголовки над блоком</strong>.</p><code-example><script>`<style>\n  GOLD_div_GOLD {\n    border: 1px solid blue;\n    margin: 2em;\n    font: .8em/1.25 Arial, sans-serif;\n  }\n  /* вверх чуть больше, чем на высоту строки (1.25em) */\n  GOLD_h2_GOLD {\n    background: #aef;\n    margin: HIGH-1.3emLIGHT 0 0.8em 0;\n  }\n</style>\n<div>\n  <h2>Общие положения</h2>\n  <p>Настоящие Правила дорожного движения устанавливают единый порядок дорожного движения на всей территории Российской Федерации. Другие нормативные акты, касающиеся дорожного движения, должны основываться на требованиях Правил и не противоречить им.</p>\n</div>\n<div>\n  <h2>Общие обязанности водителей</h2>\n  <p>Водитель механического транспортного средства обязан иметь при себе и по требованию сотрудников милиции передавать им для проверки:</p>\n  <ul>\n    <li>водительское удостоверение на право управления транспортным средством соответствующей категории;</li>\n    <li>...и так далее...</li>\n  </ul>\n</div>`</script><code-toolbar- iframe="400"><a title="показать" data-code_run="0"></a><a data-new_window="code" title="открыть в новом окне"></a><a-></a-></code-toolbar-></code-example><p>А вот, что бы было при использовании <code>position</code>:</p><code-example><script>`<style>\n  GOLD_div_GOLD {\n    border: 1px solid blue;\n    margin: 2em;\n    font: .8em/1.25 Arial, sans-serif;\n  }\n\n  GOLD_h2_GOLD {\n    background: #aef;\n    margin: 0 0 0.8em 0;\nMARK    position: relative;\nMARK    top: -1.3em;\n  }\n</style>\n<div>\n  <h2>Общие положения</h2>\n  <p>Настоящие Правила дорожного движения устанавливают единый порядок дорожного движения на всей территории Российской Федерации. Другие нормативные акты, касающиеся дорожного движения, должны основываться на требованиях Правил и не противоречить им.</p>\n</div>\n<div>\n  <h2>Общие обязанности водителей</h2>\n  <p>Водитель механического транспортного средства обязан иметь при себе и по требованию сотрудников милиции передавать им для проверки:</p>\n  <ul>\n    <li>водительское удостоверение на право управления транспортным средством соответствующей категории;</li>\n    <li>...и так далее...</li>\n  </ul>\n</div>`</script><code-toolbar- iframe="400"><a title="показать" data-code_run="0"></a><a data-new_window="code" title="открыть в новом окне"></a><a-></a-></code-toolbar-></code-example><p><strong>При использовании <code>position</code>, в отличие от <code>margin</code>, на месте заголовков, внутри блоков, осталось пустое пространство.</strong></p><h2><a name="3" href="#3">Пример: вынос отчерка</a></h2><p>Организуем информацию чуть по-другому. Пусть после каждого заголовка будет отчерк:</p><code-example><script>`<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <style>\n    GOLD_div_GOLD {\n      margin: 2em;\n      font: .8em/1.25 Arial, sans-serif;\n    }\n\n    GOLD_h2_GOLD {\n      BLUE_margin-bottom_BLUE: 0;\n    }\n  </style>\n</head>\n<body>\n  <div>\n    <h2>Общие положения (hr.margin)</h2>\n    <hr class="margin">\n    <p>Настоящие Правила дорожного движения устанавливают единый порядок дорожного движения на всей территории\n      Российской Федерации. Другие нормативные акты, касающиеся дорожного движения, должны основываться на\n      требованиях Правил и не противоречить им.\n    </p>\n  </div>\n  <div>\n    <h2>Общие обязанности водителей (hr.position)</h2>\n    <hr class="position">\n    <p>Водитель механического транспортного средства обязан иметь при себе и по требованию сотрудников милиции\n      передавать им для проверки:</p>\n    <ul>\n      <li>водительское удостоверение на право управления транспортным средством соответствующей категории;</li>\n      <li>...и так далее...</li>\n    </ul>\n  </div>\n</body>\n</html>`</script><code-toolbar- iframe="400"><a title="показать" data-code_run="0"></a><a data-new_window="code" title="открыть в новом окне"></a><a-></a-></code-toolbar-></code-example><p>Для красоты мы хотим, чтобы отчерк <code>HR</code> начинался левее, чем основной текст. Отрицательный <code>margin-left</code> нам поможет:</p><code-example><script>`<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <style>\n    GOLD_div_GOLD {\n      margin: 2em;\n      font: .8em/1.25 Arial, sans-serif\n    }\n\n    GOLD_h2_GOLD {\n      BLUE_margin-bottom_BLUE: 0\n    }\n\n    GOLD_hr.margin_GOLD {\nMARK      BLUE_margin-left_BLUE: -2em\n    }\n      /* для сравнения */\n    GOLD_hr.position_GOLD {\nMARK      position: relative;\nMARK      left: -2em\n    }\n  </style>\n</head>\n<body>\n  <div>\n    <h2>Общие положения (hr.margin)</h2>\n    <hr class="margin">\n    <p>Настоящие Правила дорожного движения устанавливают единый порядок дорожного движения на всей территории\n      Российской Федерации. Другие нормативные акты, касающиеся дорожного движения, должны основываться на\n      требованиях Правил и не противоречить им.\n    </p>\n  </div>\n  <div>\n    <h2>Общие обязанности водителей (hr.position)</h2>\n    <hr class="position">\n    <p>Водитель механического транспортного средства обязан иметь при себе и по требованию сотрудников милиции\n      передавать им для проверки:</p>\n    <ul>\n      <li>водительское удостоверение на право управления транспортным средством соответствующей категории;</li>\n      <li>...и так далее...</li>\n    </ul>\n  </div>\n</body>\n</html>`</script><code-toolbar- iframe="400"><a title="показать" data-code_run="0"></a><a data-new_window="code" title="открыть в новом окне"></a><a-></a-></code-toolbar-></code-example><p>Обратите внимание на разницу между методами сдвига!</p><ul><li><code>hr.margin</code> сначала сдвинулся, а потом нарисовался до конца блока.</li><li><code>hr.position</code> сначала нарисовался, а потом сдвинулся – в результате справа осталось пустое пространство.</li></ul><p>Уже отсюда видно, что отрицательные <code>margin</code> – исключительно полезное средство позиционирования!</p><h2><a name="4" href="#4">Отрицательные margin-right/bottom</a></h2><p>Отрицательные <code>margin-right/bottom</code> ведут себя по-другому, чем <code>margin-left/top</code>. Они не сдвигают элемент, а «укорачивают» его.</p><p>То есть, хотя сам размер блока не уменьшается, но следующий элемент будет думать, что он меньше на указанное в <code>margin-right/bottom</code> значение.</p><p>Например, в примере ниже вторая строка налезает на первую:</p><code-example><script>`<div style="border: 1px solid blue; HIGHmargin-bottom: -0.5emLIGHT">\n  Первый\n</div>\n\n<div style="border: 1px solid red">\n  Второй div думает, что высота первого на 0.5em меньше\n</div>`</script><code-toolbar iframe="100"><a title="показать" data-code_run="0"></a><a-></a-></code-toolbar></code-example><p>Это используют, в частности для красивых вносок, с приданием иллюзии глубины.</p><p>Например:</p><code-example><script>`<style>\n  GOLD_.content_GOLD {\n    background: #aef;\n    padding: 1em 2em 2em 2em;\nMARK    BLUE_margin-bottom_BLUE: -1em;\n  }\n\n  GOLD_.comment_GOLD {\n    margin: 0 1em;\n    padding: .2em;\n    text-align: center;\n    background: #000;\n    color: #fff;\n  }\n</style>\n\n<div>У DIV'а с холодильниками стоит margin-bottom: -1em</div>\n<div class="content">Наши холодильники - самые лучшие холодильники в мире!\n  Наши холодильники - самые лучшие холодильники в мире!\n  Наши холодильники - самые лучшие холодильники в мире!\n  Наши холодильники - самые лучшие холодильники в мире!\n</div>\n<span class="comment">Так считают: 5 человек </span>\n<span class="comment">Оставьте <u>свой</u> отзыв!</span>`</script><code-toolbar- iframe="220"><a title="показать" data-code_run="0"></a><a data-new_window="code" title="открыть в новом окне"></a><a data-code_edit="" title="открыть в песочнице"></a></code-toolbar-></code-example><h2><a name="5" href="#5">Итого</a></h2><ul><li>Отрицательные <code>margin-left/top</code> сдвигают элемент влево-вверх. Остальные элементы это учитывают, в отличие от сдвига через <code>position</code>.</li><li>Отрицательные <code>margin-right/bottom</code> заставляют другие элементы думать, что блок меньше по размеру справа-внизу, чем он на самом деле.</li></ul><p>Отличная статья на тему отрицательных <code>margin</code>: <a href="http://coding.smashingmagazine.com/2009/07/27/the-definitive-guide-to-using-negative-margins/">The Definitive Guide to Using Negative Margins</a></p><h2 id="tasks"><a href="#6" name="6">Задачи (2)</a></h2><task-content><h3><a href="#9" name="9">Нерабочие margin?</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 3</span><p>В примере ниже находится блок <code>.block</code> фиксированной высоты, а в нём – прямоугольник <code>.spacer</code>.</p><p>При помощи <code>margin-left: 20%</code> и <code>margin-right: 20%</code>, прямоугольник центрирован в родителе по горизонтали. Это работает.</p><p>Далее делается попытка при помощи свойств <code>height: 80%</code>, <code>margin-top: 10%</code> и <code>margin-bottom: 10%</code> расположить прямоугольник в центре по вертикали, чтобы сам элемент занимал <code>80%</code> высоты родителя, а сверху и снизу был одинаковый отступ.</p><p>Однако, как видите, это не получается. Почему? Как поправить?</p><code-example><script>`<style>\n  GOLD_.block_GOLD {\n    height: 150px;\n\n    border: 1px solid #CCC;\n    background: #eee;\n  }\n\n  GOLD_.spacer_GOLD {\nMARK    height: 80%;\nMARK    margin: 10% 20%;\n\n    border: 1px solid black;\n    background: #FFF;\n  }\n</style>\n\n<div class="block">\n  <div class="spacer"></div>\n</div>`</script><code-toolbar- iframe="255"><a data-code_run="100" title="показать"></a><a data-new_window="code" title="открыть в новом окне"></a><a data-code_edit="" title="открыть в песочнице"></a></code-toolbar-></code-example><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer><close- title="закрыть" data-close_answer=""></close-><p>Ошибка заключается в том, что <code>margin</code> при задании в процентах высчитывается <em>относительно ширины</em>. Так написано <a href="http://www.w3.org/TR/CSS2/box.html#margin-properties">в стандарте</a>.</p><p>При этом не важно, какой отступ: левый, правый. верхний или нижний. Все они в процентах отсчитываются от ширины. Из-за этого и ошибка.</p><p>Ситуацию можно исправить, например, заданием <code>margin-top/margin-bottom</code> в пикселях, если это возможно или, в качестве альтернативы, использовать другие средства, в частности, <code>position</code> или <code>padding-top/padding-bottom</code> на родителе.</p></task-answer><task-help></task-help></task-content><task-content><h3><a href="#10" name="10">Расположить текст внутри INPUT</a><task-open hover-style="" data-show_task="" title="Открыть задачу"></task-open></h3><span title="Насколько эта задача важна для освоения материала, от 1 до 5">важность: 5</span><p>Создайте <code>&lt;input type="password"&gt;</code> с цветной подсказкой внутри (должен правильно выглядеть, не обязан работать):</p><code-result><iframe id="task_2_iframe" style="height:90px" src="iframe.html"></iframe><script>setTimeout(() =>{run_2.click();task_2_iframe.src=task_2_iframe.getAttribute('src');},200)</script></code-result><p>В дальнейшем мы сможем при помощи JavaScript сделать, чтобы текст при клике пропадал. Получится красивая подсказка.</p><p>P.S. Обратите внимание: <code>type="password"</code>! То есть, просто <code>value</code> использовать нельзя, будут звёздочки. Кроме того, подсказка, которую вы реализуете, может быть как угодно стилизована.</p><p>P.P.S. Вокруг <code>INPUT</code> с подсказкой не должно быть лишних отступов, блоки до и после продолжают идти в обычном потоке.</p><figure- style="display:none"><code-toolbar-><a id="task_2" data-code_edit="" a=""></a></code-toolbar-><div>Добро пожаловать</div><input type="password" id="input"><div id="placeholder">Скажи пароль, друг</div><div>.. и заходи</div></figure-><p><a data-click="task_2">Открыть песочницу для задачи.</a></p><button-answer data-toggle_answer="" style="">решение</button-answer><task-answer-ext><button-answer-ext data-toggle_answer_ext="" style="">Подсказка</button-answer-ext><task-answer><close- title="закрыть" data-close_answer=""></close-><h4>Подсказка</h4><p>Надвиньте элемент с текстом на <code>INPUT</code> при помощи отрицательного <code>margin</code>.</p></task-answer><button-answer-ext data-toggle_answer_ext="" style="">Решение</button-answer-ext><task-answer><close- title="закрыть" data-close_answer=""></close-><h4>Решение</h4><p>Надвинем текст на <code>INPUT</code> при помощи отрицательного <code>margin-top</code>. Поднять следует на одну строку, т.е. на <code>1.25em</code>, можно для красоты чуть больше – <code>1.3em</code>:</p><p>Также нам понадобится обнулить «родной» <code>margin</code> у <code>INPUT</code>, чтобы не сбивал вычисления.</p><code-example><script>`<style>\n  GOLD_input_GOLD {\n   HIGH margin: 0;LIGHT\n    width: 12em;\n  }\n\n  GOLD_#placeholder_GOLD {\n    color: red;\nMARK    margin: -1.3em 0 0 0.2em;\n  }\n</style>\n\n<div>Добро пожаловать</div>\n<input type="password" id="input">\n<div id="placeholder">Скажи пароль, друг</div>\n<div>.. и заходи</div>`</script><code-toolbar- iframe="190"><a id="run_2" title="показать" data-code_run="100"></a><a data-new_window="code" title="открыть в новом окне"></a><a id="answer_2" data-code_edit="" title="открыть в песочнице"></a></code-toolbar-></code-example><p><a data-click="answer_2">Открыть решение в песочнице.</a></p></task-answer></task-answer-ext></task-content><banner-bottom class="banner-bottom" style="display: block;"></banner-bottom><script>! function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||screen.width<1024||"bannerBottomDisabled" in localStorage||(localStorage.bannerBottomShownCount||(localStorage.bannerBottomShownCount=1),document.querySelector(".banner-bottom").style.display="block")}();</script><nav-book data-tooltips="Свойство 'box-sizing'; Лишнее место под IMG"></nav-book><share-map><share-></share-><map-button hover-style="" data-load_page="l"></map-button></share-map><comments- id="comments"></comments-><div id="disqus_thread"></div><script>disqus_url="https:\/\/learn.javascript.ru\/margin",disqus_identifier="margin",disqus_title="\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \"margin\"";</script></page-content></main>